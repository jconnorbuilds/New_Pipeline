{"version":3,"file":"js/costsheet.js","mappings":"6BAAIA,E,2KCAJ,IAAI,EAA+BC,O,SCE5B,MAAMC,EAAYC,SAASC,cAAc,8BAC5CD,SAASC,cAAc,8BAA8BC,MACrD,KA6FEC,EAAgBA,CAACC,EAAMC,EAAU,CAAC,KACtC,MAAMC,EAAUN,SAASG,cAAcC,GA+BvC,OA5BIC,EAAQE,UACiB,iBAApBF,EAAQE,QACXD,EAAQE,UAAUC,IAAIJ,EAAQE,SAC9BD,EAAQE,UAAUC,OAAOJ,EAAQE,UAGnCF,EAAQK,YACVC,OAAOC,KAAKP,EAAQK,YAAYG,SAASC,IACvCR,EAAQS,aAAaD,EAAKT,EAAQK,WAAWI,GAAK,IAIlDT,EAAQW,OAAMV,EAAQW,YAAcZ,EAAQW,MAE5CX,EAAQa,UACVb,EAAQa,SAASL,SAASM,IACxBb,EAAQc,YAAYjB,KAAiBgB,GAAO,IAI5Cd,EAAQgB,KAAIf,EAAQe,GAAKhB,EAAQgB,IAEjChB,EAAQiB,MACVX,OAAOC,KAAKP,EAAQiB,MAAMT,SAASC,IACjCR,EAAQiB,QAAQT,GAAOT,EAAQiB,KAAKR,EAAI,IAIrCR,CAAO,ECzHVkB,EAAYxB,SAASC,cAAc,cACnCwB,EAAazB,SAASC,cAAc,eACpCyB,EAAS1B,SAASC,cAAc,aAChC0B,EAAS3B,SAASC,cAAc,WAEhC2B,EAAiBA,CAACC,EAAUC,KAChC,MAAMC,EAAK5B,EAAc,SAAU,CACjCO,WAAY,CAAER,MAAO2B,GACrBb,KAAMa,IAIR,OAFIE,EAAG7B,QAAU4B,GAAiBC,EAAGhB,aAAa,WAAY,IAEvDgB,CAAE,EA+DX,MArDmB,MAMjB,MAAMC,EAASC,IACbtB,OAAOC,KAAKqB,GACTC,OACArB,SAASgB,IACR,MAAMM,EAAeP,EAAeC,EAAU,OACxCO,EAAeR,EAAeC,EAAU,OAE9CH,EAAON,YAAYe,GACnBR,EAAOP,YAAYgB,EAAa,IAGpC,MAAMC,EAAkBA,CAACC,EAASC,KAChCD,SAAQpC,MACJsC,EAAUF,EAASC,IAvBME,EAwBGF,EAATD,EAvBpBpC,MAAQ,EAAKuC,EAAOvC,MAAQ,QADVwC,IAAQD,CAwBY,EAErCD,EAAYA,CAACG,EAAOF,KD1CIG,MCahBC,EAAUC,EAASC,EDPfC,EC6ChB,OARAL,EAAMzC,OD3CsB0C,EC2CWD,EAAMzC,MD1CtC+C,SAASL,EAAEM,WAAW,IAAK,KAC1BC,WAAWC,QAAQ,wBAAyB,MC0CpDX,EAAOvC,MDhDc0C,IAClBA,EAAEO,WAAWC,QAAQ,wBAAyB,KC+ClCC,EA/BHR,EAiCRF,EAAMzC,MAjCY4C,EAkClBb,EAAYP,EAAOxB,OAlCQ6C,EAmC3Bd,EAAYN,EAAOzB,QD1CP8C,ECQNH,EDPPI,SAASD,EAAOE,WAAW,IAAK,MCOZJ,EAAUC,IAAWO,QAAQ,KAqC7Cb,EAAOvC,KAAK,EAIrBsB,EAAU+B,iBAAiB,SAAS,IAClClB,EAAgBb,EAAWC,KAG7B,CAACC,EAAQC,GAAQd,SAAS2C,IACxBA,EAASD,iBAAiB,UAAU,IAClClB,EAAgBb,EAAWC,IAC5B,GACD,EAOJ,MAAO,CAAEgC,MAJKA,KDnDQC,QCoDJzB,GAAgBD,EAAMC,GDnDxC0B,IAAAA,KAAO,CACLC,QAAS,CAAE,cAAe7D,GAC1B8D,OAAQ,MACRC,IAAK,wBACLC,SAAU,OAEVC,QAASN,EACTO,MAAQC,GAAaC,MAAMD,IC4CwB,EAItD,EAnDkB,GC9Bf,EAA+BE,U,2BCS5B,MAiDMC,EAAiBA,CAACC,EAAQC,EAAOC,EAAgB,UAE5Db,IAAAA,KAAO,CACLC,QAAS,CAAE,cAAea,GAC1BX,IAAK,oCAAsCQ,EAAS,IACpDT,OAAQ,OACRvC,KAAM,CAAEoD,WAAYF,GACpBT,SAAU,OACVC,QAAS,SAAU1C,GACjBqD,QAAQC,IAAI,6BAA8BtD,GAC1C,IAAI8C,IAAJ,CAAcG,GACXM,IAAK,IAAGvD,EAAK4C,SAAS7C,MACtBC,KAAKA,EAAK4C,UACVY,aACAC,MAAK,EACV,EACAd,MAAQ3C,IACNqD,QAAQK,KAAK1D,GACb6C,MACE,sGACD,GAEH,EC7EEc,EAAOjF,SAASC,cAAc,wBAC9BiF,EAAUlF,SAASC,cAAc,qBACjCkF,EAAQ,IAAIC,IAAJ,CAAUF,GAClBG,EAAcR,GAAQA,EAAI5E,cAAc,yBACxCqF,EAAiBtF,SAASC,cAC9B,mCAEFiF,EAAQ3B,iBAAiB,iBAAiB,KACxC0B,EAAKM,QACLD,EAAeE,UAAY,EAAE,IAG/B,MAAMC,EAAaA,CAACC,EAAGnB,KACrBmB,EAAEC,iBACF,MAAMrB,EAAStE,SAASC,cAAc,gCAAgCC,MAChE0F,EAAY5F,SAASC,cACzB,mCACAC,MACFmE,EAAeC,EAAQC,EAAOqB,GAE9BT,EAAMU,MAAM,EAGRC,EAAexE,IACnB,MAAMyE,EAAU/F,SAASC,cAAc,iCAEnB,CACjB,gBAAeqB,EAAK0E,cACpB,cAAa1E,EAAK2E,YAClB,aAAY3E,EAAK4E,YAERrF,SAASsF,IACnB,MAAMC,EAAMpG,SAASG,cAAc,KACnCiG,EAAInF,YAAckF,EAClBb,EAAelE,YAAYgF,EAAI,IAGjCL,EAAQ7F,MAAQoB,EAAKD,GACrB8D,EAAMkB,MAAM,ECxCdC,OAAO3C,EAAIA,IAMX,MAkFM4C,EAAqBA,CAAClF,EAAImF,EAAOhD,EAAUqB,KAC/C,MAAM4B,EAAWzG,SAASG,cAAc,UACxCsG,EAASvG,MAAQmB,EACjBoF,EAASzF,KAAOwF,EAChBhD,EAASpC,YAAYqF,GACjBpF,GAAMwD,EAAI6B,WAAWD,EAAS1F,aAAa,WAAY,GAAG,EA0InD4F,GA5GS3G,SAAS4G,iBAC7B,kCA2G8BC,IAC9BA,EAAYtD,iBAAiB,UAAWmC,IAClCA,EAAE/D,OAAOmF,QAAQ,kBAxCUpB,KACjC,MAAMlC,EAAWkC,EAAE/D,OACb4C,EAAQf,EAASuD,QAAQ,SACzBC,EAASxD,EAAStD,MAClB+G,EAAQzD,EAASuD,QAAQ,MAAMG,aAAa,MAClDvD,IAAAA,KAAO,CACLC,QAAS,CAAE,cAAea,GAC1BZ,OAAQ,OACRC,IAAK,qCACLxC,KAAM,CAAE0F,OAAQA,EAAQG,QAASF,GACjClD,SAAU,OACVC,QAAUE,GAAakD,EAAYlD,EAAUK,GAC7CN,MAAQC,GAAaS,QAAQK,KAAKd,IAClC,EA2BuCmD,CAAmB3B,GACtDA,EAAE/D,OAAOmF,QAAQ,kBAnBUpB,KACjC,MAAMlC,EAAWkC,EAAE/D,OACb4C,EAAQf,EAASuD,QAAQ,SACzBO,EAAS9D,EAAStD,MAClB+G,EAAQzD,EAASuD,QAAQ,MAAMG,aAAa,MAClDvD,IAAAA,KAAO,CACLC,QAAS,CAAE,cAAea,GAC1BZ,OAAQ,OACRC,IAAK,qCACLxC,KAAM,CAAEgG,OAAQA,EAAQH,QAASF,GACjClD,SAAU,OACVC,QAAUE,GAAakD,EAAYlD,EAAUK,GAC7CN,MAAQC,GAAaS,QAAQK,KAAKd,IAClC,EAMuCqD,CAAmB7B,EAAE,GAC5D,GAoBS0B,EAAcA,CAAClD,EAAUK,KAChB,YAApBL,EAAS8C,OACL,IAAI5C,IAAJ,CAAcG,GAAOiD,KAAKC,SAC1B9C,QAAQV,MAAMC,EAASwD,QAAQ,E,kFCvOrC,IAAInD,EACAoD,EAEJ,MAAMC,EAAYA,KAChBD,EAAU3H,SAASC,cAAc,eACjCsE,EAAQ,IAAIH,IAAJ,CAAcuD,EAAS,CAC7BE,QAAQ,EACRC,YAAY,EACZC,IAAK,OACLC,WAAW,EACXC,MAAO,CAAC,CAAC,EAAG,QACZC,cAAc,EACdC,SAAU,CACRC,kBAAmB,SACnBC,OAAQ,GACRC,WAAY,0BAGdd,KAAM,CAAE1D,IAAK,uBAtBDwC,OAAOiC,SAASC,KAAKC,MAAM,KAAKC,OAAO,GAAI,GAAG,IAuB1DC,MAAO,KACPC,QAAS,CACP,CACEtH,KAAM,aACNuH,UAAW,gBACXC,OAASxH,GDoBQA,IAAS,IAAMA,EAAKyH,iBCpBnBC,CAAgB1H,IAEpC,CACEA,KAAM,SACNuH,UAAW,gBACXC,OAAQ,CACNG,QAASA,CAAC3H,EAAMlB,EAAMyE,KACpBqE,ODUUC,ECVG7H,EDWN,QADWO,ECVC,CACjBuH,KAAMvE,EAAIhD,SACVwH,OAAQxE,EAAIyE,kBDSfF,KAAgB,GAAKvH,EAASwH,OAASF,EAAOJ,iBADpCG,IAACC,EAAQtH,CCPhB,EACJK,KAAOZ,GAASA,IAGpB,CACEA,KAAM,cACNwH,OAAQ,CACNG,QAASA,CAAC3H,EAAMlB,EAAMyE,ID4BNA,KACxB,MAAM0E,EAAU1E,EAAI2E,aAAe3E,EAAI2E,aAAe,KAChDhG,EAAWxD,SAASG,cAAc,UAYxC,OAVAqD,EAAShD,UAAUC,IAAI,yBAA0B,UACjD+C,EAASzC,aAAa,OAAQ,iBAC9BwF,EAAmB,EAAG,gBAAiB/C,EAAUqB,GAE7C0E,GACF5I,OAAO8I,QAAQF,GAAS1I,SAAQ,EAAEQ,EAAI+H,MACpC7C,EAAmBlF,EAAI+H,EAAM5F,EAAUqB,EAAI,IAIxCrB,EAASkG,SAAS,EC1CaC,CAAiB9E,GAC/C3C,KAAOZ,GAASA,IAGpB,CACEA,KAAM,cACNwH,OAASxH,GNzBAsI,EAACC,EAAQC,EAAY,MAEpC,MAAMC,EAAkBC,KAAKC,MAAkB,GAAZH,GAW7BI,EAT2B/D,KAE/B,MAEMW,EAAUX,EAAIgE,MADlB,yEAEF,OAAOrD,EAAUA,EAAQsD,OAAS,CAAC,EAIjBC,CAAwBR,GACtCS,EAAcT,EAAOO,OAG3B,OAAIF,EAAcH,EACTF,EAAOU,UAAU,EAAGR,GAAmB,MACrCG,GAA2B,IAAZJ,GAAoBQ,EAA0B,GAAZR,EACnDD,EAAOU,UAAU,EAAGP,KAAKC,MAAkB,GAAZH,IAAoB,MAE1DI,GAA2B,IAAZJ,GACfQ,EAA0B,IAAZR,EAEPD,EAAOU,UAAU,EAAe,IAAZT,GAAoB,MAE/CI,GAA2B,KAAZJ,GACfQ,EAA0B,IAAZR,EAEPD,EAAOU,UAAU,EAAGP,KAAKC,MAAkB,IAAZH,IAAqB,MAClDQ,EAAcR,EAChBD,EAAOU,UAAU,EAAGT,GAAa,MAInCD,CAAM,EMXWD,CAAStI,IAE7B,CAAEA,KAAM,aACR,CACEA,KAAM,iBACNkJ,cAAe,kBACf3B,UAAW,MAEXC,OAAQ,CACNG,QAASA,CAAC3H,EAAMlB,EAAMyE,IDVJ4F,EAACnJ,EAAMuD,KACjC,MAAM6F,EAAW7F,EAAI8F,uBACfnH,EAAWxD,SAASG,cAAc,UACxCqD,EAAShD,UAAUC,IAAI,yBAA0B,SAAU,OAC3D+C,EAASzC,aAAa,OAAQ,kBAC9B,IAAK,MAAO6J,EAAG5D,KAAWrG,OAAO8I,QAAQiB,GAAW,CAClD,MAAMjE,EAAWzG,SAASG,cAAc,UACxCsG,EAASvG,MAAQ8G,EAAO,GACxBP,EAASzF,KAAOgG,EAAO,GACnBA,EAAO,KAAO1F,GAAMmF,EAAS1F,aAAa,WAAY,IAC1DyC,EAASpC,YAAYqF,EACvB,CACA,OAAOjD,EAASkG,SAAS,ECFae,CAAoBnJ,EAAMuD,GACxD3C,KAAOZ,GAASA,IAGpB,CACEA,KAAM,aACNwH,OAASxH,GDwBQA,IACnBA,EAGM,GAFGA,EAAKmH,MAAM,KAAK,MACfnH,EAAKmH,MAAM,KAAK,OAGrB,IC9BeoC,CAAgBvJ,IAEpC,CACEA,KAAM,KACNwH,OAASxH,GDvFSA,IAkDPnB,EAAc,MAAO,CACpCI,QAAS,CAAC,YAAa,gBACvBG,WAAY,CACVoK,KAAM,QACN,aAAc,+CAEhB5J,SAAU,CAlDO,CACjB,SACA,CACEX,QAAS,CAAC,MAAO,cAAe,UAAW,eAC3CG,WAAY,CAAEN,KAAM,UACpBiB,GAAK,uBAAsBC,IAC3BN,KAAM,iBAWU,CAClB,SACA,CACET,QAAS,CACP,MACA,cACA,kBACA,UACA,gBAEFG,WAAY,CAAEN,KAAM,SAAU,iBAAiB,GAC/CkB,KAAM,CAAEyJ,SAAU,YAClB7J,SAAU,CAnBQ,CACpB,MACA,CACEX,QAAS,YACTG,WAAY,CAAEoK,KAAM,cAyBH,CACnB,KACA,CAAEvK,QAAS,gBAAiBW,SAAU,CAJV,CAAC,KAAM,CAAEA,SAAU,CAL5B,CACnB,OACA,CAAEX,QAAS,gBAAiBS,KAAM,gCAmBpB0I,UC4BQsB,CAAiB1J,IAErC,CAEEA,KAAM,KACNwH,OAASxH,GAsCUnB,EAAc,MAAO,CACpCI,QAAS,CAAC,YAAa,gBACvBG,WAAY,CAAEoK,KAAM,SACpB5J,SAAU,CArBI,CACd,IACA,CACEX,QAAS,CAAC,MAAO,yBACjBG,WAAY,CAAE8H,KAAO,aAAYlH,kBACjCJ,SAAU,CAxBG,CACf,MACA,CACER,WAAY,CACVuK,IAAKC,EACLC,IAAK,kBAuBO,CAChB,IACA,CACE5K,QAAS,CAAC,MAAO,yBACjBG,WAAY,CAAE8H,KAAO,aAAYlH,kBACjCJ,SAAU,CAxBK,CACjB,MACA,CACER,WAAY,CACVuK,IAAKG,EACLD,IAAK,uBA4BKzB,WAGpB,CACEpI,KAAM,KACN+J,SAAS,IAGbC,YAAaA,CAACzG,EAAKvD,IDwHiBiK,EAAC1G,EAAKvD,KAlGPkK,EAAC3G,EAAKvD,KAEnB,OAAxBA,EAAKmK,gBAA6C,GAAlBnK,EAAKoF,UACjC7B,EACG+B,iBAAiB,YACjB/F,SAASkB,GAAOA,EAAG2J,gBAAgB,cACtC7G,EACG+B,iBAAiB,YACjB/F,SAASkB,GAAOA,EAAGhB,aAAa,WAAY,KAAI,EA2FvDyK,CAA+B3G,EAAKvD,GAGd,GAAlBA,EAAKoF,YACP7B,EAAI5E,cAAc,iBAAiB0L,MAAM1C,QAAU,OACnDpE,EACG+B,iBAAiB,YACjB/F,SAASkB,GAAOA,EAAGhB,aAAa,WAAY,MACjD,ECjI8BwK,CAAyB1G,EAAKvD,GAC1DsK,WAAYA,CAAC/G,EAAKvD,KD+GcuK,EAAChH,EAAKvD,KAdLwK,EAACjH,EAAKvD,KACfuD,EAAI5E,cAAc,sBAC1BsD,iBAAiB,SAAUmC,IAC3C,MAAMnB,EAAQmB,EAAE/D,OAAOoF,QAAQ,SAC/B1C,EAAe/C,EAAKD,GAAIkD,EAAM,GAC9B,EAUFuH,CAAsBjH,EAAKvD,GAE3ByK,EAAqBlH,GAAKtB,iBAAiB,SAAS,KAClDwI,EAAsBzK,EAAK,GAC3B,ECnHEuK,CAAqBhH,EAAKvD,EAAK,IAG5BiD,GAgBT,MAbkB,MAChB,MAAMyH,EAAiBA,IAAMzH,GAASqD,IAChCqE,EAAaA,IACjBD,IAAiBzH,QAAQ2H,YAAYjM,cAAc,SAOrD,MAAO,CAAE+L,iBAAgBC,aAAYE,QANrBA,IAAM5H,EAAMiD,KAAKC,SAMa2E,wBALdA,CAACvF,EAAcoF,OAC7CtF,EAAgBE,GD2EwBwF,EAC1CxF,EACAyF,EAAiBP,KAEjBO,EAAerH,KAAK1B,iBAAiB,UAAWmC,GAC9C4G,EAAe7G,WAAWC,EAAGmB,IAC9B,EChFCwF,CAA6BxF,EAAY,EAI5C,EAXiB,GCxJlB0F,EAAUP,iBACVO,EAAUH,0BACVI,EAAW/I,O,GCPPgJ,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUM,KAAKF,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAGpEK,EAAOD,OACf,CAGAJ,EAAoBQ,EAAIF,EVzBpBnN,EAAW,GACf6M,EAAoBS,EAAI,SAASC,EAAQC,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAI7N,EAASuK,OAAQsD,IAAK,CACrCL,EAAWxN,EAAS6N,GAAG,GACvBJ,EAAKzN,EAAS6N,GAAG,GACjBH,EAAW1N,EAAS6N,GAAG,GAE3B,IAJA,IAGIC,GAAY,EACPC,EAAI,EAAGA,EAAIP,EAASjD,OAAQwD,MACpB,EAAXL,GAAsBC,GAAgBD,IAAa5M,OAAOC,KAAK8L,EAAoBS,GAAGU,OAAM,SAAS/M,GAAO,OAAO4L,EAAoBS,EAAErM,GAAKuM,EAASO,GAAK,IAChKP,EAASS,OAAOF,IAAK,IAErBD,GAAY,EACTJ,EAAWC,IAAcA,EAAeD,IAG7C,GAAGI,EAAW,CACb9N,EAASiO,OAAOJ,IAAK,GACrB,IAAIK,EAAIT,SACET,IAANkB,IAAiBX,EAASW,EAC/B,CACD,CACA,OAAOX,CArBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAI7N,EAASuK,OAAQsD,EAAI,GAAK7N,EAAS6N,EAAI,GAAG,GAAKH,EAAUG,IAAK7N,EAAS6N,GAAK7N,EAAS6N,EAAI,GACrG7N,EAAS6N,GAAK,CAACL,EAAUC,EAAIC,EAwB/B,EW5BAb,EAAoBsB,EAAI,SAASjB,GAChC,IAAIkB,EAASlB,GAAUA,EAAOmB,WAC7B,WAAa,OAAOnB,EAAgB,OAAG,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAL,EAAoByB,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,ECNAvB,EAAoByB,EAAI,SAASrB,EAASuB,GACzC,IAAI,IAAIvN,KAAOuN,EACX3B,EAAoB4B,EAAED,EAAYvN,KAAS4L,EAAoB4B,EAAExB,EAAShM,IAC5EH,OAAO4N,eAAezB,EAAShM,EAAK,CAAE0N,YAAY,EAAMC,IAAKJ,EAAWvN,IAG3E,ECPA4L,EAAoB4B,EAAI,SAASI,EAAKC,GAAQ,OAAOhO,OAAOiO,UAAUC,eAAe5B,KAAKyB,EAAKC,EAAO,ECCtGjC,EAAoBqB,EAAI,SAASjB,GACX,oBAAXgC,QAA0BA,OAAOC,aAC1CpO,OAAO4N,eAAezB,EAASgC,OAAOC,YAAa,CAAE7O,MAAO,WAE7DS,OAAO4N,eAAezB,EAAS,aAAc,CAAE5M,OAAO,GACvD,ECNAwM,EAAoBsC,EAAI,W,WCKxB,IAAIC,EAAkB,CACrB,IAAK,GAaNvC,EAAoBS,EAAES,EAAI,SAASsB,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4B9N,GAC/D,IAKIqL,EAAUuC,EALV7B,EAAW/L,EAAK,GAChB+N,EAAc/N,EAAK,GACnBgO,EAAUhO,EAAK,GAGIoM,EAAI,EAC3B,GAAGL,EAASkC,MAAK,SAASlO,GAAM,OAA+B,IAAxB4N,EAAgB5N,EAAW,IAAI,CACrE,IAAIsL,KAAY0C,EACZ3C,EAAoB4B,EAAEe,EAAa1C,KACrCD,EAAoBQ,EAAEP,GAAY0C,EAAY1C,IAGhD,GAAG2C,EAAS,IAAIlC,EAASkC,EAAQ5C,EAClC,CAEA,IADG0C,GAA4BA,EAA2B9N,GACrDoM,EAAIL,EAASjD,OAAQsD,IACzBwB,EAAU7B,EAASK,GAChBhB,EAAoB4B,EAAEW,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOxC,EAAoBS,EAAEC,EAC9B,EAEIoC,EAAqBC,KAAsB,gBAAIA,KAAsB,iBAAK,GAC9ED,EAAmB3O,QAAQsO,EAAqBO,KAAK,KAAM,IAC3DF,EAAmBG,KAAOR,EAAqBO,KAAK,KAAMF,EAAmBG,KAAKD,KAAKF,G,IC/CvF,IAAII,EAAsBlD,EAAoBS,OAAEN,EAAW,CAAC,MAAM,WAAa,OAAOH,EAAoB,IAAM,IAChHkD,EAAsBlD,EAAoBS,EAAEyC,E","sources":["webpack://npt/webpack/runtime/chunk loaded","webpack://npt/external var \"jQuery\"","webpack://npt/./src/js/utils.js","webpack://npt/./src/js/costsheet/currency_calculator.js","webpack://npt/external var \"DataTable\"","webpack://npt/./src/js/tables/dt-shared.js","webpack://npt/./src/js/modals/pay-period-modal.js","webpack://npt/./src/js/costs-and-invoices-common-funcs.js","webpack://npt/./src/js/costsheet/costsheet-dt.js","webpack://npt/./src/js/costsheet/costsheet.js","webpack://npt/webpack/bootstrap","webpack://npt/webpack/runtime/compat get default export","webpack://npt/webpack/runtime/define property getters","webpack://npt/webpack/runtime/hasOwnProperty shorthand","webpack://npt/webpack/runtime/make namespace object","webpack://npt/webpack/runtime/publicPath","webpack://npt/webpack/runtime/jsonp chunk loading","webpack://npt/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var __WEBPACK_NAMESPACE_OBJECT__ = jQuery;","import $ from 'jquery';\n\nexport const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]')\n  ? document.querySelector('[name=csrfmiddlewaretoken]').value\n  : null;\n\nconst separateThousands = (x) => {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n};\n\nconst separateThousandsOnInput = (x) => {\n  let xInt = parseInt(x.replaceAll(',', ''));\n  return xInt.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n};\n\n// Parses a thousands-separated number from str -> int\nconst removeCommas = (numStr) => {\n  return parseInt(numStr.replaceAll(',', ''));\n};\n\n/**\n * placeholder\n *\n * @param {String[]} currencySymbolsList // ex. [\"USD\", \"JPY\",...]\n */\nconst getFXRatesDict = (successCallback) => {\n  $.ajax({\n    headers: { 'X-CSRFToken': csrftoken },\n    method: 'GET',\n    url: '/pipeline/forex-rates',\n    dataType: 'json',\n    /** @param {Object.<string, number>} i.e. ex. { USD: 146.3242, ...} */\n    success: successCallback,\n    error: (response) => alert(response),\n  });\n};\n\nconst theDate = () => new Date();\n\nconst dates = {\n  currentDate: () => {\n    const date = theDate();\n    const year = date.getFullYear();\n    const month = date.getMonth() + 1;\n    return [year, month];\n  },\n  thisYear: () => theDate().getFullYear(),\n  thisMonth: () => theDate().getMonth() + 1,\n};\n\nconst truncate = (string, maxLength = 30) => {\n  // Function to count Japanese characters\n  const allowedLengthJp = Math.round(maxLength * 0.5);\n\n  const countJapaneseCharacters = (str) => {\n    // Regex checks for hiragana, katakana, most kanji, and full-width romaji\n    const JPRegex =\n      /[\\u3040-\\u309F\\u30A0-\\u30FF\\uFF01-\\uFF5E\\u4E00-\\u9FAF\\u3400-\\u4DBF]/gu;\n    const matches = str.match(JPRegex);\n    return matches ? matches.length : 0;\n  };\n\n  // Calculate the number of Japanese characters\n  const jpCharCount = countJapaneseCharacters(string);\n  const totalLength = string.length;\n\n  // Truncate based on the number of JP + EN characters\n  if (jpCharCount > allowedLengthJp) {\n    return string.substring(0, allowedLengthJp) + '...';\n  } else if (jpCharCount >= maxLength * 0.66 && totalLength > maxLength * 0.5) {\n    return string.substring(0, Math.round(maxLength * 0.5)) + '...';\n  } else if (\n    jpCharCount >= maxLength * 0.33 &&\n    totalLength > maxLength * 0.33\n  ) {\n    return string.substring(0, maxLength * 0.33) + '...';\n  } else if (\n    jpCharCount >= maxLength * 0.125 &&\n    totalLength > maxLength * 0.83\n  ) {\n    return string.substring(0, Math.round(maxLength * 0.83)) + '...';\n  } else if (totalLength > maxLength) {\n    return string.substring(0, maxLength) + '...';\n  }\n\n  // No truncation needed\n  return string;\n};\n\nconst slugify = (str) =>\n  str\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, '')\n    .replace(/[\\s_-]+/g, '-')\n    .replace(/^-+|-+$/g, '');\n\nconst createElement = (type, options = {}) => {\n  const element = document.createElement(type);\n\n  // classes, attributes, text, children, id, data,\n  if (options.classes) {\n    typeof options.classes === 'string'\n      ? element.classList.add(options.classes)\n      : element.classList.add(...options.classes);\n  }\n\n  if (options.attributes) {\n    Object.keys(options.attributes).forEach((key) => {\n      element.setAttribute(key, options.attributes[key]);\n    });\n  }\n\n  if (options.text) element.textContent = options.text;\n\n  if (options.children) {\n    options.children.forEach((child) => {\n      element.appendChild(createElement(...child));\n    });\n  }\n\n  if (options.id) element.id = options.id;\n\n  if (options.data) {\n    Object.keys(options.data).forEach((key) => {\n      element.dataset[key] = options.data[key];\n    });\n  }\n\n  return element;\n};\n\nexport {\n  separateThousands,\n  separateThousandsOnInput,\n  removeCommas,\n  getFXRatesDict,\n  dates,\n  csrftoken as CSRFTOKEN,\n  truncate,\n  slugify,\n  createElement,\n};\n","import {\n  separateThousands,\n  separateThousandsOnInput,\n  removeCommas,\n  getFXRatesDict,\n  createElement,\n} from '../utils.js';\n\nconst calcInput = document.querySelector('#calcInput');\nconst calcResult = document.querySelector('#calcResult');\nconst source = document.querySelector('#calcFrom');\nconst target = document.querySelector('#calcTo');\n\nconst createOptionEl = (currency, initialCurrency) => {\n  const el = createElement('option', {\n    attributes: { value: currency },\n    text: currency,\n  });\n  if (el.value === initialCurrency) el.setAttribute('selected', '');\n\n  return el;\n};\n\nconst evaluate = (inputVal, srcRate, trgtRate) =>\n  (removeCommas(inputVal) * (srcRate / trgtRate)).toFixed(2);\n\nconst zeroInputAndOutput = (input, output) => (\n  (input.value = 0), (output.value = '0.00')\n);\n\nconst Calculator = (() => {\n  /**\n   * Initializes the calculator with currency symbols and their foreign exchange rates\n   *\n   * @param {Object.<string, number>} currencies // ex. { USD: 146.3242, ...}\n   */\n  const build = (fxRatesDict) => {\n    Object.keys(fxRatesDict)\n      .sort()\n      .forEach((currency) => {\n        const sourceOption = createOptionEl(currency, 'JPY');\n        const targetOption = createOptionEl(currency, 'EUR');\n\n        source.appendChild(sourceOption);\n        target.appendChild(targetOption);\n      });\n\n    const handleCalcInput = (inputEl, outputEl) =>\n      inputEl.value\n        ? calculate(inputEl, outputEl)\n        : zeroInputAndOutput(inputEl, outputEl);\n\n    const calculate = (input, output) => {\n      input.value = separateThousandsOnInput(input.value);\n      output.value = separateThousands(\n        evaluate(\n          input.value,\n          fxRatesDict[source.value],\n          fxRatesDict[target.value]\n        )\n      );\n      return output.value;\n    };\n\n    // Add event listeners to recalculate on input or when a different currency is selected\n    calcInput.addEventListener('input', () =>\n      handleCalcInput(calcInput, calcResult)\n    );\n\n    [source, target].forEach((selectEl) => {\n      selectEl.addEventListener('change', () =>\n        handleCalcInput(calcInput, calcResult)\n      );\n    });\n  };\n\n  const setup = () => {\n    getFXRatesDict((fxRatesDict) => build(fxRatesDict));\n  };\n\n  return { setup };\n})();\n\nexport default Calculator;\n","var __WEBPACK_NAMESPACE_OBJECT__ = DataTable;","import DataTable from 'datatables.net';\nimport $ from 'jquery';\nimport { CSRFTOKEN } from '../utils.js';\n\nlet firstSelectedBox;\nlet firstSelectedRow;\nlet ongoingSelection = false;\nlet mouseDown = 0;\n\nexport const initializeGlobalMouseEvents = () => {\n  document.body.addEventListener('mousedown', () => {\n    mouseDown = 1;\n  });\n\n  document.body.addEventListener('mouseup', () => {\n    mouseDown = 0;\n    ongoingSelection = false;\n  });\n};\n\nexport const beginSelection = (e) => {\n  ongoingSelection = true;\n  firstSelectedBox = e.target;\n  firstSelectedRow = e.target.closest('tr');\n  firstSelectedRow.classList.toggle('.selected-row');\n  firstSelectedBox.checked = !firstSelectedBox.checked;\n};\n\nexport const handleSingleClick = (e) => {\n  if (!mouseDown) {\n    const checkbox = e.target;\n    const row = checkbox.closest('tr');\n    const isChecked = firstSelectedBox.checked;\n\n    checkbox.checked = !isChecked;\n    checkbox.checked\n      ? row.classList.add('selected-row')\n      : row.classList.remove('selected-row');\n  }\n};\n\nexport const selectOnDrag = (e) => {\n  if (mouseDown && ongoingSelection && e.target.closest('tr')) {\n    const row = e.target.closest('tr');\n    const checkbox = row.querySelector('.form-check-input') || null;\n    const isChecked = firstSelectedBox.checked;\n    isChecked\n      ? row.classList.add('selected-row')\n      : row.classList.remove('selected-row');\n\n    if (checkbox) checkbox.checked = isChecked;\n  }\n};\n\nexport const preventHighlighting = (e) => {\n  if (mouseDown && ongoingSelection) e.preventDefault();\n};\n\nexport const requestInvoice = (costID, table, costPayPeriod = 'next') => {\n  // requests the vendor invoice\n  $.ajax({\n    headers: { 'X-CSRFToken': CSRFTOKEN },\n    url: '/pipeline/request-single-invoice/' + costID + '/',\n    method: 'POST',\n    data: { pay_period: costPayPeriod },\n    dataType: 'json',\n    success: function (data) {\n      console.log('invoice request callback: ', data); // make this a toast\n      new DataTable(table)\n        .row(`#${data.response.id}`)\n        .data(data.response)\n        .invalidate()\n        .draw(false);\n    },\n    error: (data) => {\n      console.warn(data);\n      alert(\n        'There was an error. Try again, and if the error persists, request the invoice the old fashioned way'\n      );\n    },\n  });\n};\n","import Modal from 'bootstrap/js/dist/modal';\nimport { requestInvoice } from '../tables/dt-shared.js';\n\nconst form = document.querySelector('form#pay-period-form');\nconst modalEl = document.querySelector('#pay-period-modal');\nconst modal = new Modal(modalEl);\nconst defineMenu = (row) => row.querySelector('ul.dropdown-menu > li');\nconst descriptionDiv = document.querySelector(\n  '#pay-period-modal .invoice-desc'\n);\nmodalEl.addEventListener('hide.bs.modal', () => {\n  form.reset();\n  descriptionDiv.innerHTML = '';\n});\n\nconst submitForm = (e, table) => {\n  e.preventDefault();\n  const costID = document.querySelector('#pay-period-form #id_cost_id').value;\n  const payPeriod = document.querySelector(\n    '#pay-period-form #id_pay_period'\n  ).value;\n  requestInvoice(costID, table, payPeriod);\n\n  modal.hide();\n};\n\nconst launchModal = (data) => {\n  const idField = document.querySelector('#pay-period-modal #id_cost_id');\n\n  const descriptors = [\n    `Vendor name: ${data.vendor_name}`,\n    `PO number: ${data.PO_number}`,\n    `Job name: ${data.job_name}`,\n  ];\n  descriptors.forEach((str) => {\n    const pEl = document.createElement('p');\n    pEl.textContent = str;\n    descriptionDiv.appendChild(pEl);\n  });\n\n  idField.value = data.id;\n  modal.show();\n};\n\nexport { form, defineMenu, launchModal, submitForm };\n","import $ from 'jquery';\nwindow.$ = $;\nimport DataTable from 'datatables.net';\nimport { CSRFTOKEN, createElement } from './utils.js';\nimport * as PayPeriod from './modals/pay-period-modal.js';\nimport { requestInvoice } from './tables/dt-shared.js';\n\nconst renderRequestBtn = (data) => {\n  /*  create a Bootstrap input group with a \"request invoice\" btn\n      and a dropdown to optionally set the payment period to something other than default.\n\n      return: the outerHTML to render in the table.\n  */\n  const requestBtn = [\n    'button',\n    {\n      classes: ['btn', 'btn-primary', 'inv-req', 'inv-req-btn'],\n      attributes: { type: 'button' },\n      id: `invoice-request-btn-${data}`,\n      text: 'Req. invoice',\n    },\n  ];\n\n  const innerBtnGroup = [\n    'div',\n    {\n      classes: 'btn-group',\n      attributes: { role: 'group' },\n    },\n  ];\n  const dropdownBtn = [\n    'button',\n    {\n      classes: [\n        'btn',\n        'btn-primary',\n        'dropdown-toggle',\n        'inv-req',\n        'inv-req-menu',\n      ],\n      attributes: { type: 'button', 'aria-expanded': false },\n      data: { bsToggle: 'dropdown' },\n      children: [innerBtnGroup],\n    },\n  ];\n  const dropdownItem = [\n    'span',\n    { classes: 'dropdown-item', text: 'Specify pay period' },\n  ];\n\n  const dropdownItemContainer = ['li', { children: [dropdownItem] }];\n\n  const dropdownMenu = [\n    'ul',\n    { classes: 'dropdown-menu', children: [dropdownItemContainer] },\n  ];\n\n  const btnGroup = createElement('div', {\n    classes: ['btn-group', 'btn-group-sm'],\n    attributes: {\n      role: 'group',\n      'aria-label': 'Invoice request button with nested dropdown',\n    },\n    children: [requestBtn, dropdownBtn, dropdownMenu],\n  });\n\n  return btnGroup.outerHTML;\n};\n\nconst renderAmount = (amount, currency) =>\n  currency.name == 'JPY' ? '' : currency.symbol + amount.toLocaleString();\n\nconst renderAmountJPY = (data) => '¥' + data.toLocaleString();\n\nconst renderInvoiceStatus = (data, row) => {\n  const STATUSES = row.invoice_status_choices;\n  const selectEl = document.createElement('select');\n  selectEl.classList.add('form-control-plaintext', 'status', 'p-0');\n  selectEl.setAttribute('name', 'invoice_status');\n  for (const [_, status] of Object.entries(STATUSES)) {\n    const optionEl = document.createElement('option');\n    optionEl.value = status[0];\n    optionEl.text = status[1];\n    if (status[0] === data) optionEl.setAttribute('selected', '');\n    selectEl.appendChild(optionEl);\n  }\n  return selectEl.outerHTML;\n};\n\nconst createVendorOption = (id, label, selectEl, row) => {\n  const optionEl = document.createElement('option');\n  optionEl.value = id;\n  optionEl.text = label;\n  selectEl.appendChild(optionEl);\n  if (id == row.vendor_id) optionEl.setAttribute('selected', '');\n};\n\nconst renderVendorName = (row) => {\n  const vendors = row.vendors_dict ? row.vendors_dict : null;\n  const selectEl = document.createElement('select');\n\n  selectEl.classList.add('form-control-plaintext', 'vendor');\n  selectEl.setAttribute('name', 'vendor-select');\n  createVendorOption(0, 'Select vendor', selectEl, row);\n\n  if (vendors) {\n    Object.entries(vendors).forEach(([id, name]) => {\n      createVendorOption(id, name, selectEl, row);\n    });\n  }\n\n  return selectEl.outerHTML;\n};\n\nconst renderPayPeriod = (data) => {\n  if (data) {\n    let year = data.split('-')[0];\n    let month = data.split('-')[1];\n    return `${year}年${month}月末`;\n  } else {\n    return '-';\n  }\n};\n\nconst statusFilters = document.querySelectorAll(\n  '.display-filter .status-filter'\n);\n\n/**\n * Extends DataTables search to allow filtering by checkbox selection\n */\nexport const initializeStatusFilters = () => {\n  DataTable.ext.search.push(function (settings, data) {\n    const status = new DOMParser()\n      .parseFromString(data[9], 'text/html')\n      .querySelector('select').value; // invoice status;\n    let selectedStatuses = [];\n    statusFilters.forEach((status) => {\n      if (status.checked) selectedStatuses.push(status.value.toUpperCase());\n    });\n    if (selectedStatuses.length > 0)\n      return selectedStatuses.includes(status) ? true : false;\n\n    return true;\n  });\n};\n\nexport const setupSortByStatus = () => {\n  // Defines the order of the invoice status column\n  const invoiceStatusOrderMap = {\n    NR: 1,\n    REQ: 2,\n    REC: 3,\n    REC2: 4,\n    ERR: 5,\n    QUE: 6,\n    PAID: 7,\n    NA: 8,\n  };\n\n  DataTable.ext.type.order['status-pre'] = (data) => {\n    const statusOrder = invoiceStatusOrderMap[data];\n    return statusOrder ? statusOrder : -1;\n  };\n};\n\nconst enableDisableVendorSelection = (row, data) => {\n  data.invoice_status === 'NR'\n    ? row.querySelector('.cost-vendor-select').removeAttribute('disabled')\n    : row.querySelector('.cost-vendor-select').setAttribute('disabled', '');\n};\n\nconst enableDisableInvoiceRequestBtn = (row, data) => {\n  // enables/disables both parts of the invoice request button group\n  data.invoice_status === 'NR' && data.vendor_id != 0\n    ? row\n        .querySelectorAll('.inv-req')\n        .forEach((el) => el.removeAttribute('disabled'))\n    : row\n        .querySelectorAll('.inv-req')\n        .forEach((el) => el.setAttribute('disabled', ''));\n};\n\nexport {\n  renderRequestBtn,\n  renderAmount,\n  renderAmountJPY,\n  renderInvoiceStatus,\n  renderVendorName,\n  renderPayPeriod,\n  enableDisableVendorSelection,\n  enableDisableInvoiceRequestBtn,\n};\n\nexport const handleStatusChange = (e) => {\n  const selectEl = e.target;\n  const table = selectEl.closest('table');\n  const status = selectEl.value;\n  const rowID = selectEl.closest('tr').getAttribute('id');\n  $.ajax({\n    headers: { 'X-CSRFToken': CSRFTOKEN },\n    method: 'POST',\n    url: '/pipeline/update-invoice-table-row',\n    data: { status: status, cost_id: rowID },\n    dataType: 'json',\n    success: (response) => updateTable(response, table),\n    error: (response) => console.warn(response),\n  });\n};\n\n/**\n * Handler for when the vendor for a cost is changed (e.g. in a table)\n *\n * @todo update the error function with something useful\n * @param {*} e\n */\nexport const handleVendorChange = (e) => {\n  const selectEl = e.target;\n  const table = selectEl.closest('table');\n  const vendor = selectEl.value;\n  const rowID = selectEl.closest('tr').getAttribute('id');\n  $.ajax({\n    headers: { 'X-CSRFToken': CSRFTOKEN },\n    method: 'POST',\n    url: '/pipeline/update-invoice-table-row',\n    data: { vendor: vendor, cost_id: rowID },\n    dataType: 'json',\n    success: (response) => updateTable(response, table),\n    error: (response) => console.warn(response),\n  });\n};\n\nexport const handleRowUpdate = (datatableEl) => {\n  datatableEl.addEventListener('change', (e) => {\n    if (e.target.matches('select.status')) handleStatusChange(e);\n    if (e.target.matches('select.vendor')) handleVendorChange(e);\n  });\n};\n\nexport const setupPayPeriodFormSubmission = (\n  datatableEl,\n  payPeriodModal = PayPeriod\n) => {\n  payPeriodModal.form.addEventListener('submit', (e) =>\n    payPeriodModal.submitForm(e, datatableEl)\n  );\n};\n\nexport const addRequestBtnListener = (row, data) => {\n  const invoiceRequestBtn = row.querySelector('button.inv-req-btn');\n  invoiceRequestBtn.addEventListener('click', (e) => {\n    const table = e.target.closest('table');\n    requestInvoice(data.id, table);\n  });\n};\n\nexport const updateTable = (response, table) => {\n  response.status === 'success'\n    ? new DataTable(table).ajax.reload()\n    : console.error(response.message);\n};\n\nexport const addRowEventListeners = (row, data) => {\n  addRequestBtnListener(row, data);\n\n  PayPeriod.defineMenu(row).addEventListener('click', () => {\n    PayPeriod.launchModal(data);\n  });\n};\n\nexport const invoicesTableRowCallback = (row, data) => {\n  enableDisableInvoiceRequestBtn(row, data);\n  // name this function and extract\n  // TODO: add an empty option to the select to handle sorting better\n  if (data.vendor_id == 0) {\n    row.querySelector('select.status').style.display = 'none';\n    row\n      .querySelectorAll('.inv-req')\n      .forEach((el) => el.setAttribute('disabled', ''));\n  }\n};\n","import DataTable from 'datatables.net';\nimport {\n  handleRowUpdate,\n  renderAmount,\n  renderAmountJPY,\n  renderInvoiceStatus,\n  renderPayPeriod,\n  renderRequestBtn,\n  renderVendorName,\n  invoicesTableRowCallback,\n  addRowEventListeners,\n  setupPayPeriodFormSubmission,\n} from '../costs-and-invoices-common-funcs.js';\nimport { createElement, truncate } from '../utils.js';\n\nimport penIcon from '../../../assets/images/pencil-square.svg';\nimport trashIcon from '../../../assets/images/trash3-fill.svg';\n\n/**\n * Returns the jobID, taken from the URL\n *\n * @returns {string}\n */\nconst getJobID = () => {\n  const jobID = window.location.href.split('/').slice(-2, -1)[0];\n  return jobID;\n};\n\nlet table;\nlet tableEl;\n\nconst initTable = () => {\n  tableEl = document.querySelector('#cost-table');\n  table = new DataTable(tableEl, {\n    paging: false,\n    processing: true,\n    dom: 'lrtp',\n    autoWidth: true,\n    order: [[0, 'asc']],\n    orderClasses: false,\n    language: {\n      searchPlaceholder: 'コストを探す',\n      search: '',\n      emptyTable: 'No costs for this job!',\n    },\n\n    ajax: { url: '/pipeline/cost-data/' + getJobID() },\n    rowId: 'id',\n    columns: [\n      {\n        data: 'amount_JPY',\n        className: 'dt-right pe-4',\n        render: (data) => renderAmountJPY(data),\n      },\n      {\n        data: 'amount',\n        className: 'dt-right pe-4',\n        render: {\n          display: (data, type, row) =>\n            renderAmount(data, {\n              name: row.currency,\n              symbol: row.currency_symbol,\n            }),\n          sort: (data) => data,\n        },\n      },\n      {\n        data: 'vendor_name',\n        render: {\n          display: (data, type, row) => renderVendorName(row),\n          sort: (data) => data,\n        },\n      },\n      {\n        data: 'description',\n        render: (data) => truncate(data),\n      },\n      { data: 'PO_number' },\n      {\n        data: 'invoice_status',\n        orderDataType: 'dom-cost-select',\n        className: 'p-0',\n        // width: '210px',\n        render: {\n          display: (data, type, row) => renderInvoiceStatus(data, row),\n          sort: (data) => data,\n        },\n      },\n      {\n        data: 'pay_period',\n        render: (data) => renderPayPeriod(data),\n      },\n      {\n        data: 'id',\n        render: (data) => renderRequestBtn(data),\n      },\n      {\n        // Edit and delete buttons\n        data: 'id',\n        render: (data) => {\n          const editIcon = [\n            'img',\n            {\n              attributes: {\n                src: penIcon,\n                alt: 'edit icon',\n              },\n            },\n          ];\n          const deleteIcon = [\n            'img',\n            {\n              attributes: {\n                src: trashIcon,\n                alt: 'delete icon',\n              },\n            },\n          ];\n\n          const editBtn = [\n            'a',\n            {\n              classes: ['btn', 'btn-outline-secondary'],\n              attributes: { href: `/pipeline/${data}/update-cost/` },\n              children: [editIcon],\n            },\n          ];\n\n          const deleteBtn = [\n            'a',\n            {\n              classes: ['btn', 'btn-outline-secondary'],\n              attributes: { href: `/pipeline/${data}/delete-cost/` },\n              children: [deleteIcon],\n            },\n          ];\n\n          const btnGroup = createElement('div', {\n            classes: ['btn-group', 'btn-group-sm'],\n            attributes: { role: 'group' },\n            children: [editBtn, deleteBtn],\n          });\n          return btnGroup.outerHTML;\n        },\n      },\n      {\n        data: 'id',\n        visible: false,\n      },\n    ],\n    rowCallback: (row, data) => invoicesTableRowCallback(row, data),\n    createdRow: (row, data) => {\n      addRowEventListeners(row, data);\n    },\n  });\n  return table;\n};\n\nconst costTable = (() => {\n  const getOrInitTable = () => table || initTable();\n  const getTableEl = () =>\n    getOrInitTable().table().container().querySelector('table');\n  const refresh = () => table.ajax.reload();\n  const setupTableEventHandlers = (datatableEl = getTableEl()) => {\n    handleRowUpdate(datatableEl);\n    setupPayPeriodFormSubmission(datatableEl);\n  };\n\n  return { getOrInitTable, getTableEl, refresh, setupTableEventHandlers };\n})();\n\nexport default costTable;\n","'use strict';\n\nimport '../../styles/index.scss';\nimport Calculator from './currency_calculator.js';\nimport costTable from './costsheet-dt.js';\n\ncostTable.getOrInitTable();\ncostTable.setupTableEventHandlers();\nCalculator.setup();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/static/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t977: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknpt\"] = self[\"webpackChunknpt\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [547], function() { return __webpack_require__(418); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","jQuery","csrftoken","document","querySelector","value","createElement","type","options","element","classes","classList","add","attributes","Object","keys","forEach","key","setAttribute","text","textContent","children","child","appendChild","id","data","dataset","calcInput","calcResult","source","target","createOptionEl","currency","initialCurrency","el","build","fxRatesDict","sort","sourceOption","targetOption","handleCalcInput","inputEl","outputEl","calculate","output","zeroInputAndOutput","input","x","inputVal","srcRate","trgtRate","numStr","parseInt","replaceAll","toString","replace","separateThousands","toFixed","addEventListener","selectEl","setup","successCallback","$","headers","method","url","dataType","success","error","response","alert","DataTable","requestInvoice","costID","table","costPayPeriod","CSRFTOKEN","pay_period","console","log","row","invalidate","draw","warn","form","modalEl","modal","Modal","defineMenu","descriptionDiv","reset","innerHTML","submitForm","e","preventDefault","payPeriod","hide","launchModal","idField","vendor_name","PO_number","job_name","str","pEl","show","window","createVendorOption","label","optionEl","vendor_id","handleRowUpdate","querySelectorAll","datatableEl","matches","closest","status","rowID","getAttribute","cost_id","updateTable","handleStatusChange","vendor","handleVendorChange","ajax","reload","message","tableEl","initTable","paging","processing","dom","autoWidth","order","orderClasses","language","searchPlaceholder","search","emptyTable","location","href","split","slice","rowId","columns","className","render","toLocaleString","renderAmountJPY","display","renderAmount","amount","name","symbol","currency_symbol","vendors","vendors_dict","entries","outerHTML","renderVendorName","truncate","string","maxLength","allowedLengthJp","Math","round","jpCharCount","match","length","countJapaneseCharacters","totalLength","substring","orderDataType","renderInvoiceStatus","STATUSES","invoice_status_choices","_","renderPayPeriod","role","bsToggle","renderRequestBtn","src","penIcon","alt","trashIcon","visible","rowCallback","invoicesTableRowCallback","enableDisableInvoiceRequestBtn","invoice_status","removeAttribute","style","createdRow","addRowEventListeners","addRequestBtnListener","PayPeriod","getOrInitTable","getTableEl","container","refresh","setupTableEventHandlers","setupPayPeriodFormSubmission","payPeriodModal","costTable","Calculator","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}