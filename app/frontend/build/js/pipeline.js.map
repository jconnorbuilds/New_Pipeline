{"version":3,"file":"js/pipeline.js","mappings":"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","sources":["webpack://npt/webpack/runtime/chunk loaded","webpack://npt/external var \"jQuery\"","webpack://npt/./src/js/utils.js","webpack://npt/external var \"DataTable\"","webpack://npt/./src/js/main-pipeline/pipeline-state.js","webpack://npt/./src/js/main-pipeline/pipeline-ui-funcs.js","webpack://npt/./src/js/main-pipeline/pipeline-dt.js","webpack://npt/./src/js/main-pipeline/pipeline-funcs.js","webpack://npt/./src/js/toast-notifs.js","webpack://npt/./src/js/modals/invoices-details-modal.js","webpack://npt/./src/js/modals/create-modal.js","webpack://npt/./src/js/tables/dt-shared.js","webpack://npt/./src/js/main-pipeline/pipeline-dt-ui-funcs.js","webpack://npt/./src/js/main-pipeline/pipeline-dt-funcs.js","webpack://npt/./src/js/modals/deposit-date-modal.js","webpack://npt/./src/js/modals/new-client-form-funcs.js","webpack://npt/./src/js/main-pipeline/pipeline.js","webpack://npt/./src/js/csv-export.js","webpack://npt/webpack/bootstrap","webpack://npt/webpack/runtime/compat get default export","webpack://npt/webpack/runtime/define property getters","webpack://npt/webpack/runtime/hasOwnProperty shorthand","webpack://npt/webpack/runtime/make namespace object","webpack://npt/webpack/runtime/publicPath","webpack://npt/webpack/runtime/jsonp chunk loading","webpack://npt/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var __WEBPACK_NAMESPACE_OBJECT__ = jQuery;","import $ from 'jquery';\n\nexport const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]')\n  ? document.querySelector('[name=csrfmiddlewaretoken]').value\n  : null;\n\nconst separateThousands = (x) => {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n};\n\nconst separateThousandsOnInput = (x) => {\n  let xInt = parseInt(x.replaceAll(',', ''));\n  return xInt.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n};\n\n// Parses a thousands-separated number from str -> int\nconst removeCommas = (numStr) => {\n  return parseInt(numStr.replaceAll(',', ''));\n};\n\n/**\n * placeholder\n *\n * @param {String[]} currencySymbolsList // ex. [\"USD\", \"JPY\",...]\n */\nconst getFXRatesDict = (successCallback) => {\n  $.ajax({\n    headers: { 'X-CSRFToken': csrftoken },\n    method: 'GET',\n    url: '/pipeline/forex-rates',\n    dataType: 'json',\n    /** @param {Object.<string, number>} i.e. ex. { USD: 146.3242, ...} */\n    success: successCallback,\n    error: (response) => alert(response),\n  });\n};\n\nconst theDate = () => new Date();\n\nconst dates = {\n  currentDate: () => {\n    const date = theDate();\n    const year = date.getFullYear();\n    const month = date.getMonth() + 1;\n    return [year, month];\n  },\n  thisYear: () => theDate().getFullYear(),\n  thisMonth: () => theDate().getMonth() + 1,\n};\n\nconst truncate = (string, maxLength = 30) => {\n  // Function to count Japanese characters\n  const allowedLengthJp = Math.round(maxLength * 0.5);\n\n  const countJapaneseCharacters = (str) => {\n    // Regex checks for hiragana, katakana, most kanji, and full-width romaji\n    const JPRegex =\n      /[\\u3040-\\u309F\\u30A0-\\u30FF\\uFF01-\\uFF5E\\u4E00-\\u9FAF\\u3400-\\u4DBF]/gu;\n    const matches = str.match(JPRegex);\n    return matches ? matches.length : 0;\n  };\n\n  // Calculate the number of Japanese characters\n  const jpCharCount = countJapaneseCharacters(string);\n  const totalLength = string.length;\n\n  // Truncate based on the number of JP + EN characters\n  if (jpCharCount > allowedLengthJp) {\n    return string.substring(0, allowedLengthJp) + '...';\n  } else if (jpCharCount >= maxLength * 0.66 && totalLength > maxLength * 0.5) {\n    return string.substring(0, Math.round(maxLength * 0.5)) + '...';\n  } else if (\n    jpCharCount >= maxLength * 0.33 &&\n    totalLength > maxLength * 0.33\n  ) {\n    return string.substring(0, maxLength * 0.33) + '...';\n  } else if (\n    jpCharCount >= maxLength * 0.125 &&\n    totalLength > maxLength * 0.83\n  ) {\n    return string.substring(0, Math.round(maxLength * 0.83)) + '...';\n  } else if (totalLength > maxLength) {\n    return string.substring(0, maxLength) + '...';\n  }\n\n  // No truncation needed\n  return string;\n};\n\nconst slugify = (str) =>\n  str\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, '')\n    .replace(/[\\s_-]+/g, '-')\n    .replace(/^-+|-+$/g, '');\n\nconst createElement = (type, options = {}) => {\n  const element = document.createElement(type);\n\n  // classes, attributes, text, children, id, data,\n  if (options.classes) {\n    typeof options.classes === 'string'\n      ? element.classList.add(options.classes)\n      : element.classList.add(...options.classes);\n  }\n\n  if (options.attributes) {\n    Object.keys(options.attributes).forEach((key) => {\n      element.setAttribute(key, options.attributes[key]);\n    });\n  }\n\n  if (options.text) element.textContent = options.text;\n\n  if (options.children) {\n    options.children.forEach((child) => {\n      element.appendChild(createElement(...child));\n    });\n  }\n\n  if (options.id) element.id = options.id;\n\n  if (options.data) {\n    Object.keys(options.data).forEach((key) => {\n      element.dataset[key] = options.data[key];\n    });\n  }\n\n  return element;\n};\n\nexport {\n  separateThousands,\n  separateThousandsOnInput,\n  removeCommas,\n  getFXRatesDict,\n  dates,\n  csrftoken as CSRFTOKEN,\n  truncate,\n  slugify,\n  createElement,\n};\n","var __WEBPACK_NAMESPACE_OBJECT__ = DataTable;","import { dates } from '../utils';\n\nlet viewType = 'monthly';\n// initialize the view dates\nlet [viewYear, viewMonth] = dates.currentDate();\n\nexport const setViewType = (typeName) => (viewType = typeName);\nexport const getViewType = () => viewType;\n\nexport const setViewMonth = (month) => (viewMonth = month);\nexport const getViewMonth = () => viewMonth;\nexport const setViewYear = (year) => (viewYear = year);\nexport const getViewYear = () => viewYear;\nexport const getViewDate = () => [viewYear, viewMonth];\nexport const setViewDate = ([year, month]) =>\n  ([viewYear, viewMonth] = [year, month]);\n\nexport const getNextMonth = () =>\n  viewMonth != 12 ? [viewYear, viewMonth + 1] : [viewYear + 1, 1];\n\nexport const getPrevMonth = () =>\n  viewMonth != 1 ? [viewYear, viewMonth - 1] : [viewYear - 1, 12];\n\nexport const checkForNeedsNewRow = () =>\n  (viewMonth == dates.thisMonth() && viewYear == dates.thisYear()) ||\n  viewType === 'all';\n","import $ from 'jquery';\nimport DataTable from 'datatables.net';\nimport { updateRevenueDisplay } from './pipeline-funcs';\nimport * as State from './pipeline-state.js';\nimport { dates } from '../utils.js';\nimport { queryJobs } from './pipeline-dt-funcs.js';\nimport { createElement } from '../utils.js';\n\nconst unreceivedFilter = document.querySelector('input.unreceived');\nconst toggleOngoingFilter = document.querySelector('input.toggle-ongoing');\nconst showOnlyOngoingFilter = document.querySelector('input.only-ongoing');\nconst showOutstandingPayments = document.querySelector(\n  'input.toggle-outstanding'\n);\n\nexport const revenueToggleHandler = (e) => {\n  const btn = e.currentTarget;\n  const unitToggleInput = document.querySelector('#id_granular_revenue');\n  const revenueInput = document.querySelector('#id_revenue');\n\n  if (btn.classList.contains('active')) {\n    btn.textContent = '円';\n    unitToggleInput.value = 'true';\n    revenueInput.setAttribute('placeholder', '例）420069');\n  } else {\n    btn.textContent = '万円';\n    unitToggleInput.value = 'false';\n    revenueInput.setAttribute('placeholder', '例）100');\n  }\n};\n\nlet totalExpectedRevenueAmt = 0;\nexport const setTotalExpectedRevenueAmt = (value) => {\n  totalExpectedRevenueAmt = value;\n};\nexport const getTotalExpectedRevenueAmt = () => totalExpectedRevenueAmt;\nexport const totalExpectedRevenueDisplay = document.querySelector(\n  '#total-revenue-monthly-exp'\n);\nexport const currentExpectedRevenueDisplay = document.querySelector(\n  '.revenue-display-text.expected'\n);\nexport const currentActualRevenueDisplayText = document.querySelector(\n  '.revenue-display-text.actual'\n);\n\nexport function refreshRevenueDisplay() {\n  setExpectedRevenueDisplayText();\n  updateRevenueDisplay(...State.getViewDate());\n  totalExpectedRevenueDisplay.textContent = `¥${getTotalExpectedRevenueAmt().toLocaleString()}`;\n}\n\nexport function setExpectedRevenueDisplayText() {\n  currentExpectedRevenueDisplay.textContent =\n    State.getViewType() !== 'monthly' || unreceivedFilter.checked\n      ? '表示の案件　請求総額 (予定)'\n      : '表示の月　請求総額 (予定)';\n}\n\nexport function setupStatusOrdering() {\n  const jobStatusOrderMap = {\n    ONGOING: 1,\n    READYTOINV: 2,\n    INVOICED1: 3,\n    INVOICED2: 4,\n    FINISHED: 5,\n    ARCHIVED: 6,\n  };\n\n  DataTable.ext.type.order['status-pre'] = (data) => {\n    const statusOrder = jobStatusOrderMap[data];\n    return statusOrder ? statusOrder : 0;\n  };\n}\n\nexport function createFilters() {\n  DataTable.ext.search.push(function (settings, data) {\n    const unreceivedPayment = data[10] === '---';\n    const ongoing = ['ONGOING', 'READYTOINV'].includes(data[9]);\n    if (unreceivedFilter.checked) {\n      return toggleOngoingFilter.checked\n        ? unreceivedPayment || ongoing\n        : unreceivedPayment && !ongoing;\n    }\n    if (showOnlyOngoingFilter.checked) return ongoing;\n    if (!toggleOngoingFilter.checked) return !ongoing;\n\n    return true;\n  });\n\n  DataTable.ext.search.push(function (settings, data) {\n    const outstandingVendorPayment = data[13] === 'false' && +data[5] > 0;\n    if (showOutstandingPayments.checked) {\n      return outstandingVendorPayment ? true : false;\n    }\n    return true;\n  });\n}\n\n// loading spinner functions for pipeline job form submission\nconst spinner = document.querySelector('#add-job-spinner'); // rename this ID\nexport const toggleLoadingSpinner = (spinnerEl = spinner) => {\n  spinnerEl.classList.toggle('invisible');\n};\nexport const hideLoadingSpinner = (spinnerEl = spinner) => {\n  spinnerEl.classList.add('invisible');\n};\nexport const showLoadingSpinner = (spinnerEl = spinner) => {\n  spinnerEl.classList.remove('invisible');\n};\n\n// Pipeline date selection\nexport const pipelineMonth = document.querySelector('#pipeline-month');\nexport const pipelineYear = document.querySelector('#pipeline-year');\n\nconst createOptionEl = (year) => {\n  return createElement('option', {\n    attributes: { value: year },\n    text: `${year}年`,\n  });\n};\n\nexport const initializeDateSelectors = () => {\n  for (let year = 2021; year <= dates.thisYear() + 1; year++) {\n    pipelineYear.appendChild(createOptionEl(year));\n  }\n  [pipelineYear.value, pipelineMonth.value] = dates.currentDate();\n};\n\nexport const dateSelectionHandler = (event) => {\n  let viewYear, viewMonth;\n  switch (event.target.getAttribute('id')) {\n    case 'pipeline-next':\n      [viewYear, viewMonth] = State.getNextMonth();\n      break;\n    case 'pipeline-prev':\n      [viewYear, viewMonth] = State.getPrevMonth();\n      break;\n    case 'pipeline-current':\n      [viewYear, viewMonth] = dates.currentDate();\n  }\n  // update UI\n  [pipelineYear.value, pipelineMonth.value] = [viewYear, viewMonth];\n\n  // update state\n  State.setViewDate([+pipelineYear.value, +pipelineMonth.value]);\n\n  // get data\n  queryJobs(...State.getViewDate());\n};\n\n// TODO: replace jQuery with JS, forego slideUp/slideDown?\nexport const toggleViewHandler = () => {\n  if (State.getViewType() === 'monthly') {\n    State.setViewType('all');\n    $('.monthly-item').slideUp('fast', function () {\n      $('#pipeline-date-select .monthly-item').removeClass('d-flex');\n    });\n\n    $('.toggle-view').html('<b>月別で表示</b>');\n    queryJobs(undefined, undefined);\n  } else {\n    State.setViewType('monthly');\n    currentExpectedRevenueDisplay.textContent = '表示の案件　請求総額(予定)';\n    $('#pipeline-date-select .monthly-item').addClass('d-flex');\n    $('.monthly-item').slideDown('fast');\n    $('.toggle-view').html('<b>全案件を表示</b>');\n    queryJobs(...State.getViewDate());\n  }\n  setExpectedRevenueDisplayText();\n};\n","import $ from 'jquery';\nimport DataTable from 'datatables.net';\nimport * as bootstrap from 'bootstrap';\nimport * as State from './pipeline-state.js';\nimport { truncate } from '../utils.js';\nimport {\n  setTotalExpectedRevenueAmt,\n  refreshRevenueDisplay,\n  setupStatusOrdering,\n} from './pipeline-ui-funcs.js';\nimport { renderInvoiceStatus, rowCallback } from './pipeline-dt-funcs.js';\n\nlet table;\nlet tableEl;\n\nconst ONGOING_STATUSES = ['ONGOING', 'READYTOINV'];\n\nlet jobCodeNameMap = new Map();\n\nconst initTable = () => {\n  tableEl = document.querySelector('#job-table');\n  table = new DataTable(tableEl, {\n    paging: false,\n    processing: true,\n    dom: 'lfrtip',\n    autoWidth: true,\n    order: [\n      [9, 'asc'],\n      [7, 'desc'],\n      [3, 'asc'],\n    ],\n    orderClasses: false,\n    rowId: 'id',\n    language: {\n      searchPlaceholder: 'ジョブを探す',\n      search: '',\n    },\n    preDrawCallback: () => setTotalExpectedRevenueAmt(0),\n    drawCallback: () => refreshRevenueDisplay(),\n    ajax: {\n      url: `/pipeline/pipeline-data/${State.getViewYear()}/${State.getViewMonth()}/`,\n      dataSrc: (json) => json.data,\n    },\n    columns: [\n      {\n        data: null,\n        render: (data, type, row) =>\n          `<input type='checkbox' name='select' value=${row.id} class='form-check-input'>`,\n      },\n      {\n        data: 'client_name',\n        render: (data, type, row) =>\n          `<a href=\"client-update/${row.client_id}\">${data}</a>`,\n      },\n      {\n        data: 'job_name',\n        className: 'job-label',\n        render: (data, type, row) => {\n          const cellContent = document.createElement('a');\n          cellContent.setAttribute('href', `/pipeline/${row.id}/job-detail/`);\n          if (!ONGOING_STATUSES.includes(row.status)) {\n            cellContent.textContent = `INV: ${truncate(row.invoice_name)}`;\n          } else {\n            cellContent.textContent = truncate(data);\n          }\n\n          return cellContent;\n        },\n      },\n      {\n        data: 'job_code',\n        className: 'dt-center',\n        render: (data, type, row) => {\n          const cellContent = document.createElement('span');\n          cellContent.classList.add('copyable', 'job-code');\n          cellContent.textContent = data;\n          if (!ONGOING_STATUSES.includes(row.status)) {\n            cellContent.dataset.bsToggle = 'tooltip';\n            cellContent.dataset.bsPlacement = 'top';\n            cellContent.dataset.bsTitle = `${row.job_name}`;\n            new bootstrap.Tooltip(cellContent);\n          }\n          return cellContent;\n        },\n      },\n      {\n        data: 'revenue',\n        className: 'revenue-amt',\n        render: (data) => `¥${data.toLocaleString()}`,\n      },\n      {\n        data: 'total_cost',\n        className: 'px-4',\n        render: {\n          display: (data, type, row) =>\n            // prettier-ignore\n            `<a href=\"/pipeline/cost-add/${row.id}/\">¥${data.toLocaleString()}</a>`,\n          sort: (data) => data,\n        },\n      },\n      {\n        data: 'profit_rate',\n        className: 'px-4',\n        render: (data) => `${data}%`,\n      },\n      {\n        data: 'job_date',\n        className: 'invoice-period',\n        render: {\n          display: (data) => {\n            let date = new Date(data);\n            return data\n              ? `${date.getFullYear()}年${date.getMonth() + 1}月`\n              : '---';\n          },\n          sort: (data) => data,\n        },\n      },\n      {\n        data: 'job_type',\n        name: 'job_type',\n      },\n      {\n        data: 'status',\n        type: 'status',\n        width: '120px',\n        render: {\n          display: (data, type, row) => renderInvoiceStatus(data, row),\n        },\n      },\n      {\n        data: 'deposit_date',\n        name: 'deposit_date',\n        className: 'deposit-date',\n        defaultContent: '---',\n      },\n\n      {\n        data: 'invoice_info_completed',\n        name: 'invoice_info_completed',\n        visible: false,\n        render: (data, type, row) => {\n          return row.invoice_name && row.invoice_month && row.invoice_year\n            ? true\n            : false;\n        },\n      },\n      {\n        data: 'client_id',\n        name: 'client_id',\n        visible: false,\n      },\n      {\n        data: 'all_invoices_paid',\n        visible: false,\n      },\n    ],\n    columnDefs: [\n      { target: 0, className: 'dt-center', searchable: false },\n      {\n        targets: [4, 5, 6],\n        className: 'dt-right',\n        createdCell: (td) => $(td).addClass('font-monospace'),\n      },\n    ],\n\n    rowCallback: (row, data) => rowCallback(row, data),\n    createdRow: (row, data, dataIndex, cells) => {\n      if (!data.deposit_date) row.classList.add('payment-unreceived');\n      jobCodeNameMap.set(data.job_code, data.job_name);\n\n      /* \n      this should work but is currently broken in DataTables v2.0.2 as of 2023/3/23. Currently using the workaround from here:\n      \n\n      if (['ONGOING', 'READYTOINV'].includes(data.status)) {\n        row.classList.add('table-primary');\n      } else {\n        row.classList.remove('table-primary');\n      }\n      */\n\n      // workaround from https://github.com/DataTables/DataTablesSrc/issues/262\n      if (ONGOING_STATUSES.includes(data.status)) {\n        cells.forEach((cell) =>\n          cell.classList.add('bg-primary-subtle', 'text-primary-emphasis')\n        );\n      } else {\n        cells.forEach((cell) =>\n          cell.classList.remove('bg-primary-subtle', 'text-primary-emphasis')\n        );\n      }\n    },\n  });\n  setupStatusOrdering();\n  return table;\n};\n\nexport const copyJobCodeAndNameToClipboard = (jobCode) => {\n  navigator.clipboard.writeText(`${jobCode} ${jobCodeNameMap.get(jobCode)}`);\n};\n\nexport const plTable = (() => {\n  let currentRowID;\n  let selectedStatus;\n  let currentSelectEl;\n\n  const getOrInitTable = () => table || initTable();\n  const getTableEl = () =>\n    getOrInitTable().table().container().querySelector('table');\n  const setCurrentRowID = (id) => (currentRowID = id);\n  const getCurrentRowID = () => currentRowID;\n  const getClientID = () =>\n    +table.cell(`#${currentRowID}`, 'client_id:name').data();\n  const refresh = () => {\n    table.ajax.reload();\n  };\n  const keepTrackOfCurrentStatus = (status) => {\n    selectedStatus = status;\n  };\n  const getStatus = () => selectedStatus;\n  const setCurrentSelectEl = (selectEl) => (currentSelectEl = selectEl);\n  const getCurrentSelectEl = () => currentSelectEl;\n\n  return {\n    setCurrentRowID,\n    getCurrentRowID,\n    setCurrentSelectEl,\n    getCurrentSelectEl,\n    getClientID,\n    keepTrackOfCurrentStatus,\n    getStatus,\n    getOrInitTable,\n    getTableEl,\n    refresh,\n  };\n})();\n","import $ from 'jquery';\nimport { CSRFTOKEN } from '../utils.js';\nimport { showLoadingSpinner, hideLoadingSpinner } from './pipeline-ui-funcs.js';\nimport { plTable } from './pipeline-dt.js';\nimport createAndInitializeToast from '../toast-notifs.js';\n\nconst displayErrorMessage = (message) => {\n  // TODO: actually dislpay the message on screen?\n  console.error(message);\n};\n\nconst NewClientForm = (() => {\n  const el = document.querySelector('#new-client-modal');\n  const init = () => el.modal();\n\n  return {\n    el,\n    init,\n  };\n})();\n\nexport function updateRevenueDisplay(year, month) {\n  $.ajax({\n    headers: { 'X-CSRFToken': CSRFTOKEN },\n    type: 'GET',\n    url: '/pipeline/revenue-data/' + year + '/' + month + '/',\n    success: (response) => {\n      // abstract to pipeline-ui-funcs\n      $('#total-revenue-ytd').text(response.total_revenue_ytd);\n      $('#avg-revenue-ytd').text(response.avg_monthly_revenue_ytd);\n      $('#total-revenue-monthly-act').text(\n        response.total_revenue_monthly_actual\n      );\n    },\n    error: (response) => console.warn(response),\n  });\n}\n\nconst handleFormSubmission = (e) => {\n  showLoadingSpinner();\n  e.preventDefault();\n  const jobForm = document.querySelector('#job-form');\n\n  const formData = {\n    job_name: document.querySelector('#id_job_name').value,\n    client: document.querySelector('#id_client').value,\n    job_type: document.querySelector('#id_job_type').value,\n    granular_revenue: document.querySelector('#id_granular_revenue').value,\n    revenue: document.querySelector('#id_revenue').value,\n    add_consumption_tax: document.querySelector('#id_add_consumption_tax')\n      .checked,\n    personInCharge: document.querySelector('#id_personInCharge').value,\n  };\n\n  const createSuccessToast = (response) => {\n    return createAndInitializeToast(\n      'Job created',\n      response.data.job_name,\n      {},\n      'toast-successful-job-created'\n    );\n  };\n\n  $.ajax({\n    headers: { 'X-CSRFToken': CSRFTOKEN },\n    method: 'POST',\n    url: '/pipeline/job-add',\n    data: formData,\n    // beforeSend: () => showLoadingSpinner(),\n    success: (response) => {\n      if (response.status === 'success') {\n        jobForm.classList.remove('was-validated');\n        plTable.refresh();\n        createSuccessToast(response).show();\n        jobForm.reset();\n      } else {\n        console.alert('Form processing failed. Perhaps bad data was sent?');\n        jobForm.classList.add('was-validated');\n      }\n    },\n    error: () => {\n      alert('Form submission failed');\n    },\n  });\n  hideLoadingSpinner();\n};\n\nexport {\n  displayErrorMessage,\n  NewClientForm,\n  handleFormSubmission as jobFormSubmissionHandler,\n};\n","import { Toast } from 'bootstrap/dist/js/bootstrap.bundle';\nimport { createElement } from './utils.js';\nimport successIcon from '../../assets/images/check2-circle.svg';\n\nconst createToastEl = (headerText, bodyText, id = '') => {\n  const icon = [\n    'img',\n    {\n      attributes: {\n        src: successIcon,\n        alt: 'success-icon',\n      },\n    },\n  ];\n  const title = ['strong', { classes: ['me-auto'], text: headerText }];\n  const timestamp = ['small', { classes: 'text-muted', text: 'Just now' }];\n  const closeBtn = [\n    'button',\n    {\n      classes: 'btn-close',\n      data: { bsDismiss: 'toast' },\n      attributes: { type: 'button', 'aria-label': 'Close' },\n    },\n  ];\n  const toastHeader = [\n    'div',\n    {\n      classes: ['toast-header'],\n      children: [icon, title, timestamp, closeBtn],\n    },\n  ];\n  const toastBody = [\n    'div',\n    {\n      classes: ['toast-body'],\n      text: bodyText,\n    },\n  ];\n\n  const toastEl = createElement('div', {\n    id: id,\n    classes: ['toast', 'bg-success-subtle', 'border-0'],\n    attributes: {\n      role: 'alert',\n      'aria-live': 'assertive',\n      'aria-atomic': 'true',\n    },\n    children: [toastHeader, toastBody],\n  });\n\n  return toastEl;\n};\n\nconst createAndInitializeToast = (\n  headerText,\n  bodyText,\n  options = {}, // animation, autohide, delay(ms)\n  id = ''\n) => {\n  const toastEl = createToastEl(headerText, bodyText, id);\n  const toastContainer = document.querySelector('.toast-container');\n  toastContainer\n    ? toastContainer.appendChild(toastEl)\n    : document.body.appendChild(toastEl);\n  return new Toast(toastEl, options);\n};\n\nexport default createAndInitializeToast;\n","import $ from 'jquery';\nimport { handleAjaxError } from '../main-pipeline/pipeline-dt-funcs.js';\nimport createModal from './create-modal.js';\nimport { plTable } from '../main-pipeline/pipeline-dt.js';\nimport { CSRFTOKEN } from '../utils.js';\nimport createAndInitializeToast from '../toast-notifs.js';\n\nconst form = document.querySelector('#invoice-info-form');\n\nconst getFormData = (newStatus) => {\n  const recipientField = document.querySelector('#id_inv-invoice_recipient');\n  const nameField = document.querySelector('#id_inv-invoice_name');\n  const jobIDField = document.querySelector('#id_inv-job_id');\n  const yearField = document.querySelector('#id_inv-invoice_year');\n  const monthField = document.querySelector('#id_inv-invoice_month');\n\n  let formData = {};\n  formData['inv-invoice_recipient'] = recipientField.value;\n  formData['inv-invoice_name'] = nameField.value;\n  formData['inv-job_id'] = jobIDField.value;\n  formData['inv-invoice_year'] = yearField.value;\n  formData['inv-invoice_month'] = monthField.value;\n  formData['inv-status'] = newStatus;\n\n  return { jobIDField, formData };\n};\n\nconst submitForm = (newStatus) => (e) => {\n  e.preventDefault();\n\n  let { jobIDField, formData } = getFormData(newStatus);\n  $.ajax({\n    headers: { 'X-CSRFToken': CSRFTOKEN },\n    type: 'POST',\n    url: `/pipeline/set-client-invoice-info/${jobIDField.value}/`,\n    data: formData,\n    dataType: 'json',\n    success: (response) => {\n      const jobName = response.data.job_name;\n      const invoiceName = response.data.invoice_name;\n      invoiceInfo.modal.hide();\n      createAndInitializeToast(\n        'Invoice details saved',\n        `${jobName}\n        ${invoiceName}\n        `\n      ).show();\n      plTable.refresh();\n      form.reset();\n    },\n    error: (response) => handleAjaxError(response),\n  });\n};\n\nconst setInitialInfo = () => {\n  const invoiceRecipientField = form.querySelector('#id_inv-invoice_recipient');\n  const hiddenJobIDField = form.querySelector('#id_inv-job_id');\n\n  invoiceRecipientField.value = plTable.getClientID();\n  hiddenJobIDField.value = plTable.getCurrentRowID();\n};\n\nconst formSubmitHandler = () => {\n  form.addEventListener('submit', (e) => {\n    submitForm(plTable.getStatus())(e);\n    invoiceInfo.preventFromOpening();\n  });\n};\n\nconst invoiceInfo = (() => {\n  const [modal, el] = createModal('#set-job-invoice-info', [formSubmitHandler]);\n  const invoiceInfoNewClientBtn = document.querySelector(\n    '#set-invoice-modal-new-client-btn'\n  );\n\n  let modalWillOpen = false;\n\n  const preventFromOpening = () => {\n    modalWillOpen = false;\n  };\n  const letModalOpen = () => {\n    modalWillOpen = true;\n  };\n  const getOpenModal = () => {\n    return modalWillOpen;\n  };\n\n  const formRequiresCompletion = (selectedStatus) => {\n    const _requiredStatuses = [\n      'INVOICED1',\n      'INVOICED2',\n      'FINISHED',\n      'ARCHIVED',\n    ];\n\n    const _formIsRequired = (selectedStatus) =>\n      _requiredStatuses.includes(selectedStatus);\n\n    const _jobIsCompleted = (\n      datatable = plTable.getOrInitTable(),\n      rowID = plTable.getCurrentRowID()\n    ) =>\n      JSON.parse(\n        datatable.cell('#' + rowID, 'invoice_info_completed:name').node()\n          .textContent\n      );\n\n    return !_jobIsCompleted() && _formIsRequired(selectedStatus);\n  };\n\n  el.addEventListener('show.bs.modal', () => {\n    letModalOpen();\n    setInitialInfo();\n  });\n\n  el.addEventListener('hide.bs.modal', () => {\n    plTable.refresh();\n    form.reset();\n  });\n\n  invoiceInfoNewClientBtn.addEventListener('click', () => letModalOpen());\n\n  return {\n    modal,\n    preventFromOpening,\n    letModalOpen,\n    getOpenModal,\n    formRequiresCompletion,\n  };\n})();\n\nexport default invoiceInfo;\n","import Modal from 'bootstrap/js/dist/modal';\n\nconst createModal = (selector, eventHandlerFns = []) => {\n  const modalEl = document.querySelector(selector);\n  const modal = new Modal(modalEl);\n\n  eventHandlerFns.forEach((fn) => fn());\n\n  return [modal, modalEl];\n};\n\nexport default createModal;\n","import DataTable from 'datatables.net';\nimport $ from 'jquery';\nimport { CSRFTOKEN } from '../utils.js';\n\nlet firstSelectedBox;\nlet firstSelectedRow;\nlet ongoingSelection = false;\nlet mouseDown = 0;\n\nexport const initializeGlobalMouseEvents = () => {\n  document.body.addEventListener('mousedown', () => {\n    mouseDown = 1;\n  });\n\n  document.body.addEventListener('mouseup', () => {\n    mouseDown = 0;\n    ongoingSelection = false;\n  });\n};\n\nexport const beginSelection = (e) => {\n  ongoingSelection = true;\n  firstSelectedBox = e.target;\n  firstSelectedRow = e.target.closest('tr');\n  firstSelectedRow.classList.toggle('.selected-row');\n  firstSelectedBox.checked = !firstSelectedBox.checked;\n};\n\nexport const handleSingleClick = (e) => {\n  if (!mouseDown) {\n    const checkbox = e.target;\n    const row = checkbox.closest('tr');\n    const isChecked = firstSelectedBox.checked;\n\n    checkbox.checked = !isChecked;\n    checkbox.checked\n      ? row.classList.add('selected-row')\n      : row.classList.remove('selected-row');\n  }\n};\n\nexport const selectOnDrag = (e) => {\n  if (mouseDown && ongoingSelection && e.target.closest('tr')) {\n    const row = e.target.closest('tr');\n    const checkbox = row.querySelector('.form-check-input') || null;\n    const isChecked = firstSelectedBox.checked;\n    isChecked\n      ? row.classList.add('selected-row')\n      : row.classList.remove('selected-row');\n\n    if (checkbox) checkbox.checked = isChecked;\n  }\n};\n\nexport const preventHighlighting = (e) => {\n  if (mouseDown && ongoingSelection) e.preventDefault();\n};\n\nexport const requestInvoice = (costID, table, costPayPeriod = 'next') => {\n  // requests the vendor invoice\n  console.log({ costID }, { table });\n  $.ajax({\n    headers: { 'X-CSRFToken': CSRFTOKEN },\n    url: '/pipeline/request-single-invoice/' + costID + '/',\n    method: 'POST',\n    data: { pay_period: costPayPeriod },\n    dataType: 'json',\n    success: function (data) {\n      console.log('invoice request callback: ', data); // make this a toast\n      new DataTable(table)\n        .row(`#${data.response.id}`)\n        .data(data.response)\n        .invalidate()\n        .draw(false);\n    },\n    error: (data) => {\n      console.warn(data);\n      alert(\n        'There was an error. Try again, and if the error persists, request the invoice the old fashioned way'\n      );\n    },\n  });\n};\n","import { depositDateModalShowHandler } from '../modals/deposit-date-modal.js';\nimport {\n  beginSelection,\n  handleSingleClick,\n  preventHighlighting,\n  selectOnDrag,\n} from '../tables/dt-shared.js';\nimport { statusChangeHandler } from './pipeline-dt-funcs.js';\nimport { copyJobCodeAndNameToClipboard, plTable } from './pipeline-dt.js';\n\nexport const drawNewRow = (newRowData, table) =>\n  table.row(`#${newRowData.id}`).data(newRowData).invalidate().draw(false);\n\nexport const setupTableEventHandlers = (datatableEl = plTable.getTableEl()) => {\n  datatableEl.addEventListener('click', (e) => {\n    if (\n      e.target.matches('.deposit-date') ||\n      e.target.matches('.job-status-select')\n    )\n      plTable.setCurrentRowID(e.target.closest('tr').getAttribute('id'));\n  });\n\n  datatableEl.addEventListener('input', (e) =>\n    plTable.setCurrentSelectEl(e.target.closest('select'))\n  );\n\n  datatableEl.addEventListener('click', (e) => {\n    if (e.target.matches('td.deposit-date')) depositDateModalShowHandler();\n  });\n\n  datatableEl.addEventListener('change', (e) => {\n    if (e.target.matches('.job-status-select')) statusChangeHandler(e);\n  });\n\n  datatableEl.addEventListener('mousedown', (e) => {\n    if (e.target.matches('.form-check-input')) beginSelection(e);\n  });\n\n  datatableEl.addEventListener('click', (e) => {\n    if (e.target.matches('.form-check-input')) handleSingleClick(e);\n  });\n\n  datatableEl.addEventListener('mouseenter', (e) => selectOnDrag(e), true);\n\n  datatableEl.addEventListener('mousemove', (e) => preventHighlighting(e));\n\n  datatableEl.addEventListener('click', (e) => {\n    if ((e.target.matches('td .job-code') && e.metaKey) || e.ctrlKey) {\n      let textContent = e.target.textContent;\n      copyJobCodeAndNameToClipboard(textContent);\n    }\n  });\n\n  datatableEl.addEventListener('mousemove', (e) => {\n    if (e.target.matches('td .job-code')) {\n      let jobCodeText = e.target;\n      // Check if cmd or ctrlKey is pressed and add highlight\n      if (e.metaKey || e.ctrlKey) {\n        jobCodeText.classList.add('highlight');\n      } else {\n        // If the keys are not pressed, remove the highlight\n        jobCodeText.classList.remove('highlight');\n      }\n    }\n  });\n\n  datatableEl.addEventListener('mouseout', (e) => {\n    if (e.target.matches('td .job-code')) {\n      let jobCodeText = e.target;\n      // Always remove the highlight when the mouse moves out of the cell\n      jobCodeText.classList.remove('highlight');\n    }\n  });\n\n  // Additional listener for keyup and keydown to handle cases where the mouse is still but the cmd/ctrl key is pressed or released\n  document.addEventListener('keydown', (e) => {\n    if ((e.metaKey || e.ctrlKey) && document.querySelector('.job-code:hover')) {\n      document.querySelector('.job-code:hover').classList.add('highlight');\n    }\n  });\n\n  document.addEventListener('keyup', () => {\n    // Remove highlight from any job-code element if cmd/ctrl key is released\n    let highlighted = document.querySelectorAll('.job-code.highlight');\n    highlighted.forEach((element) => element.classList.remove('highlight'));\n  });\n};\n","import $ from 'jquery';\nimport { CSRFTOKEN } from '../utils.js';\nimport { displayErrorMessage } from './pipeline-funcs.js';\nimport invoiceInfo from '../modals/invoices-details-modal.js';\nimport { plTable } from './pipeline-dt.js';\nimport * as State from './pipeline-state.js';\nimport { drawNewRow } from './pipeline-dt-ui-funcs.js';\nimport {\n  getTotalExpectedRevenueAmt,\n  setTotalExpectedRevenueAmt,\n} from './pipeline-ui-funcs.js';\n\nconst renderInvoiceStatus = (data, row) => {\n  const STATUSES = row.job_status_choices;\n  let selectEl = document.createElement('select');\n  selectEl.classList.add('form-control-plaintext', 'job-status-select');\n  selectEl.setAttribute('name', 'job_status');\n\n  for (const [_, status] of Object.entries(STATUSES)) {\n    let optionEl = document.createElement('option');\n    optionEl.value = status[0];\n    optionEl.text = status[1];\n    if (status[0] === data) optionEl.setAttribute('selected', '');\n    selectEl.appendChild(optionEl);\n  }\n  return selectEl.outerHTML;\n};\n\nconst updateTable = (response) => {\n  response.status === 'success'\n    ? handleNewRowDraw(response.data)\n    : console.error(response.message);\n};\n\nconst handleAjaxError = (response) => {\n  handleError(response.message);\n};\n\nconst handleStatusUpdate = (status, rowID) => {\n  $.ajax({\n    headers: { 'X-CSRFToken': CSRFTOKEN },\n    type: 'post',\n    url: '/pipeline/pl-job-update/' + rowID + '/',\n    data: { status: status },\n    dataType: 'json',\n    success: (response) => updateTable(response),\n    error: (response) => handleAjaxError(response),\n  });\n};\n\nconst statusChangeHandler = (e) => {\n  const statusSelectEl = e.target;\n  const status = statusSelectEl.value;\n  const rowID = plTable.getCurrentRowID();\n  plTable.keepTrackOfCurrentStatus(status);\n\n  invoiceInfo.formRequiresCompletion(status)\n    ? invoiceInfo.modal.show()\n    : handleStatusUpdate(status, rowID);\n};\n\nconst handleNewRowDraw = (newRowData) => {\n  /*\n  Close the modal, draw a new row in the table if it belongs on the current\n  page.\n  */\n\n  if (newRowData.job_date) {\n    const newDataInvoicePeriod = newRowData.job_date.split('-');\n    if (newDataInvoicePeriod) {\n      State.checkForNeedsNewRow()\n        ? drawNewRow(newRowData, plTable.getOrInitTable())\n        : plTable.refresh();\n    }\n  } else {\n    State.checkForNeedsNewRow()\n      ? drawNewRow(newRowData, plTable.getOrInitTable())\n      : plTable.refresh();\n  }\n};\n\nconst rowCallback = (row, data) => {\n  const INVOICED_STATUSES = ['INVOICED1', 'INVOICED2', 'FINISHED'];\n  const statusCell = row.querySelector('.job-status-select');\n  const initialStatus = statusCell.value;\n  const depositDateCell = row.querySelector('.deposit-date');\n  INVOICED_STATUSES.includes(data.status)\n    ? row.classList.add('job-invoiced')\n    : row.classList.remove('job-invoiced');\n  INVOICED_STATUSES.includes(statusCell.value)\n    ? depositDateCell.classList.remove('text-body-tertiary')\n    : depositDateCell.classList.add('text-body-tertiary');\n  statusCell.setAttribute('data-initial', initialStatus);\n  initialStatus === 'FINISHED'\n    ? row.classList.add('job-finished')\n    : row.classList.remove('job-finished');\n  setTotalExpectedRevenueAmt(\n    getTotalExpectedRevenueAmt() + parseInt(data.revenue)\n  );\n};\n\nexport const queryJobs = (year, month) => {\n  var url = '/pipeline/pipeline-data/';\n  if (year !== undefined && month !== undefined) {\n    url = url + year + '/' + month + '/';\n  }\n  plTable.getOrInitTable().ajax.url(url).load();\n};\n\nconst showSelectedStatus = (selectEl, selectedStatus) => {\n  selectEl.value = selectedStatus;\n};\n\nconst handleError = (message) => {\n  plTable.refresh();\n  displayErrorMessage(message);\n};\n\nexport {\n  renderInvoiceStatus,\n  rowCallback,\n  showSelectedStatus,\n  handleNewRowDraw,\n  handleError,\n  statusChangeHandler,\n  updateTable,\n  handleAjaxError,\n};\n","import $ from 'jquery';\nimport {\n  updateTable,\n  handleAjaxError,\n} from '../main-pipeline/pipeline-dt-funcs.js';\nimport Modal from 'bootstrap/js/dist/modal';\nimport { plTable } from '../main-pipeline/pipeline-dt.js';\nimport { CSRFTOKEN } from '../utils.js';\n\nexport const form = document.querySelector('#deposit-date-form');\nconst modalEl = document.querySelector('#set-deposit-date');\nconst modal = new Modal(modalEl);\n\nconst modalShowHandler = () => {\n  const row = plTable\n    .getOrInitTable()\n    .row(`#${plTable.getCurrentRowID()}`)\n    .node();\n  const jobStatus = row.querySelector('.job-status-select').value;\n  if (['INVOICED1', 'INVOICED2', 'FINISHED'].includes(jobStatus)) {\n    modal.show();\n  }\n};\n\nconst submitHandler = (e) => {\n  e.preventDefault();\n  const rowID = plTable.getCurrentRowID();\n  $.ajax({\n    headers: { 'X-CSRFToken': CSRFTOKEN },\n    type: 'post',\n    url: `/pipeline/set-deposit-date/${rowID}/`,\n    data: {\n      deposit_date: document.querySelector('#id_deposit_date').value,\n      job_id: rowID,\n    },\n    dataType: 'json',\n    success: (response) => {\n      updateTable(response);\n      form.reset();\n      modal.hide();\n    },\n    error: (response) => handleAjaxError(response),\n  });\n};\n\nexport {\n  modalShowHandler as depositDateModalShowHandler,\n  submitHandler as depositDateFormSubmitHandler,\n};\n","import $ from 'jquery';\nimport { CSRFTOKEN, createElement } from '../utils.js';\nimport Modal from 'bootstrap/js/dist/modal';\nimport createAndInitializeToast from '../toast-notifs.js';\nimport invoiceInfo from './invoices-details-modal.js';\n\nconst newClientModalEl = document.querySelector('#new-client-modal');\nconst newClientForm = document.querySelector('#new-client-form');\nconst submitButton = newClientForm.querySelector('button[type=\"submit\"]');\nconst friendlyNameInput = newClientForm.querySelector('#id_friendly_name');\nconst properNameInput = newClientForm.querySelector(\n  'input[name=\"proper_name\"]'\n);\nconst properNameJapaneseInput = newClientForm.querySelector(\n  'input[name=\"proper_name_japanese\"]'\n);\nconst spinner = document.querySelector('#add-client-spinner');\nconst validateInputs = () => {\n  if (properNameInput.value || properNameJapaneseInput.value) {\n    submitButton.removeAttribute('disabled');\n  } else {\n    submitButton.setAttribute('disabled', '');\n  }\n};\nconst clientField = document.querySelector('#id_client');\nconst invoiceRecipient = document.querySelector('#id_inv-invoice_recipient');\nconst errorMsgs = document.querySelector('#new-client-errors');\n\nconst processFormErrors = (errors) => {\n  console.log(errors);\n  const clientFriendlyNameErrorMsg = errors['friendly_name'];\n  if (clientFriendlyNameErrorMsg) {\n    friendlyNameInput.classList.add('is-invalid'); // TODO: set up proper client-side validation\n    errorMsgs.appendChild(\n      createElement('div', { text: clientFriendlyNameErrorMsg })\n    );\n  }\n  spinner.classList.add('invisible');\n};\n\nconst handleSuccessfulSubmission = (response) => {\n  if (response.status === 'success') {\n    spinner.classList.add('invisible');\n    const addNewClientOption = () =>\n      createElement('option', {\n        attributes: { value: response.id, selected: '' },\n        text: `${response.client_friendly_name} - ${response.prefix}`,\n      });\n    // adds the newly added client to the client list\n    clientField.appendChild(addNewClientOption());\n\n    Modal.getOrCreateInstance('#new-client-modal').toggle();\n    // adds the newly added client to the invoice recipient list\n    // ( in the invoice info modal)\n    invoiceRecipient.appendChild(addNewClientOption());\n    newClientForm.classList.remove('was-validated');\n    newClientForm.reset();\n\n    // create and instantiate toast for successful client creation\n    createAndInitializeToast(\n      'New client added',\n      response.client_friendly_name\n    ).show();\n\n    errorMsgs.replaceChildren(); // removes all error messages\n    [friendlyNameInput].forEach((field) =>\n      field.classList.remove('is-valid', 'is-invalid')\n    );\n  } else {\n    processFormErrors(response.errors);\n  }\n};\n\nconst newClientFormSubmission = (e) => {\n  e.preventDefault();\n  const formData = {\n    friendly_name: document.querySelector('#id_friendly_name').value,\n    job_code_prefix: document.querySelector('#id_job_code_prefix').value,\n    proper_name: document.querySelector('#id_proper_name').value,\n    proper_name_japanese: document.querySelector('#id_proper_name_japanese')\n      .value,\n    new_client: 'new ajax client add',\n  };\n\n  $.ajax({\n    headers: { 'X-CSRFToken': CSRFTOKEN },\n    type: 'POST',\n    url: '/pipeline/',\n    data: formData,\n    beforeSend: () => spinner.classList.remove('invisible'),\n    success: (response) => {\n      handleSuccessfulSubmission(response);\n    },\n    error: (jqXHR) => {\n      alert('form not submitted', jqXHR.statusText);\n      newClientForm.classList.add('was-validated');\n      spinner.classList.add('invisible');\n    },\n  });\n};\n\nconst initializeNewClientForm = () => {\n  submitButton.setAttribute('disabled', '');\n  properNameInput.addEventListener('input', () => validateInputs());\n  properNameJapaneseInput.addEventListener('input', () => validateInputs());\n  newClientForm.addEventListener('submit', (e) => newClientFormSubmission(e));\n  newClientModalEl.addEventListener('hide.bs.modal', () => {\n    if (invoiceInfo.getOpenModal()) invoiceInfo.modal.show();\n  });\n};\n\nexport default initializeNewClientForm;\n","'use strict';\n\nimport $ from 'jquery';\nwindow.$ = $;\nimport '../../styles/index.scss';\n\nimport { initCSVExporter } from '../csv-export.js';\nimport { depositDateFormSubmitHandler } from '../modals/deposit-date-modal.js';\nimport { plTable } from './pipeline-dt.js';\nimport {\n  createFilters,\n  revenueToggleHandler,\n  dateSelectionHandler,\n  toggleViewHandler,\n  initializeDateSelectors,\n} from './pipeline-ui-funcs';\nimport { initializeGlobalMouseEvents } from '../tables/dt-shared.js';\nimport { jobFormSubmissionHandler } from './pipeline-funcs.js';\nimport { setupTableEventHandlers } from './pipeline-dt-ui-funcs.js';\nimport initializeNewClientForm from '../modals/new-client-form-funcs.js';\nimport invoiceInfo from '../modals/invoices-details-modal.js';\n\ndocument\n  .querySelector('#revenue-unit')\n  .addEventListener('click', revenueToggleHandler);\n\ndocument\n  .querySelector('#pipeline-next')\n  .parentNode.addEventListener('click', dateSelectionHandler);\n\ndocument\n  .querySelector('.toggle-view')\n  .addEventListener('click', toggleViewHandler);\n\ndocument\n  .querySelector('#deposit-date-form')\n  .addEventListener('submit', depositDateFormSubmitHandler);\n\ndocument\n  .querySelector('#job-form')\n  .addEventListener('submit', jobFormSubmissionHandler);\n\ndocument\n  .querySelector('#pipeline-new-client-btn')\n  .addEventListener('click', () => {\n    invoiceInfo.preventFromOpening();\n  });\n\nlet filters = document.querySelectorAll('.display-filter input');\n\ninitializeGlobalMouseEvents();\ninitializeDateSelectors();\n\n$(function () {\n  const table = plTable.getOrInitTable();\n  filters.forEach((f) => f.addEventListener('change', () => table.draw()));\n  setupTableEventHandlers();\n  createFilters();\n  initCSVExporter();\n  initializeNewClientForm();\n});\n","import $ from 'jquery';\n\nexport function initCSVExporter() {\n  let rangeCheckbox = $('#csv-export-use-range');\n  rangeCheckbox.click(function () {\n    if (rangeCheckbox.is(':checked')) {\n      $('#thru-month').removeClass('invisible');\n      $('#thru-year').removeClass('invisible');\n    } else {\n      $('#thru-month').addClass('invisible');\n      $('#thru-year').addClass('invisible');\n      $('#thru-month').val($('#from-month').val()).change();\n      $('#thru-year').val($('#from-year').val()).change();\n    }\n  });\n  $('#from-month').change(function () {\n    if (rangeCheckbox.is(':not(:checked)')) {\n      $('#thru-month').val($('#from-month').val()).change();\n    }\n  });\n  $('#from-year').change(function () {\n    if (rangeCheckbox.is(':not(:checked)')) {\n      $('#thru-year').val($('#from-year').val()).change();\n    }\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/static/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t793: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknpt\"] = self[\"webpackChunknpt\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [547,204], function() { return __webpack_require__(4406); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","jQuery","csrftoken","document","querySelector","value","theDate","Date","dates","currentDate","date","getFullYear","getMonth","thisYear","truncate","string","maxLength","allowedLengthJp","Math","round","jpCharCount","str","matches","match","length","countJapaneseCharacters","totalLength","substring","createElement","type","options","element","classes","classList","add","attributes","Object","keys","forEach","key","setAttribute","text","textContent","children","child","appendChild","id","data","dataset","DataTable","viewType","viewYear","viewMonth","setViewType","typeName","getViewType","getViewDate","setViewDate","year","month","getNextMonth","getPrevMonth","checkForNeedsNewRow","unreceivedFilter","toggleOngoingFilter","showOnlyOngoingFilter","showOutstandingPayments","totalExpectedRevenueAmt","setTotalExpectedRevenueAmt","getTotalExpectedRevenueAmt","totalExpectedRevenueDisplay","currentExpectedRevenueDisplay","setExpectedRevenueDisplayText","State","checked","spinner","pipelineMonth","pipelineYear","createOptionEl","table","tableEl","ONGOING_STATUSES","jobCodeNameMap","Map","initTable","paging","processing","dom","autoWidth","order","orderClasses","rowId","language","searchPlaceholder","search","preDrawCallback","drawCallback","$","headers","CSRFTOKEN","url","success","response","total_revenue_ytd","avg_monthly_revenue_ytd","total_revenue_monthly_actual","error","console","warn","updateRevenueDisplay","toLocaleString","ajax","dataSrc","json","columns","render","row","client_id","className","cellContent","includes","status","invoice_name","bsToggle","bsPlacement","bsTitle","job_name","bootstrap","display","sort","name","width","renderInvoiceStatus","defaultContent","visible","invoice_month","invoice_year","columnDefs","target","searchable","targets","createdCell","td","addClass","rowCallback","createdRow","dataIndex","cells","deposit_date","set","job_code","cell","remove","jobStatusOrderMap","ONGOING","READYTOINV","INVOICED1","INVOICED2","FINISHED","ARCHIVED","setupStatusOrdering","plTable","currentRowID","selectedStatus","currentSelectEl","getOrInitTable","setCurrentRowID","getCurrentRowID","setCurrentSelectEl","selectEl","getCurrentSelectEl","getClientID","keepTrackOfCurrentStatus","getStatus","getTableEl","container","refresh","reload","createAndInitializeToast","headerText","bodyText","toastEl","createToastEl","role","src","successIcon","alt","bsDismiss","toastContainer","body","Toast","form","formSubmitHandler","addEventListener","e","newStatus","preventDefault","jobIDField","formData","recipientField","nameField","yearField","monthField","getFormData","dataType","jobName","invoiceName","invoiceInfo","modal","hide","show","reset","handleAjaxError","preventFromOpening","el","createModal","selector","eventHandlerFns","modalEl","Modal","fn","invoiceInfoNewClientBtn","modalWillOpen","letModalOpen","setInitialInfo","invoiceRecipientField","hiddenJobIDField","getOpenModal","formRequiresCompletion","_requiredStatuses","_jobIsCompleted","datatable","rowID","JSON","parse","node","_formIsRequired","firstSelectedBox","firstSelectedRow","ongoingSelection","mouseDown","drawNewRow","newRowData","invalidate","draw","STATUSES","job_status_choices","_","entries","optionEl","outerHTML","updateTable","handleNewRowDraw","message","handleError","statusChangeHandler","handleStatusUpdate","job_date","split","INVOICED_STATUSES","statusCell","initialStatus","depositDateCell","parseInt","revenue","queryJobs","undefined","load","displayErrorMessage","modalShowHandler","jobStatus","newClientModalEl","newClientForm","submitButton","friendlyNameInput","properNameInput","properNameJapaneseInput","validateInputs","removeAttribute","clientField","invoiceRecipient","errorMsgs","initializeNewClientForm","friendly_name","job_code_prefix","proper_name","proper_name_japanese","new_client","beforeSend","addNewClientOption","selected","client_friendly_name","prefix","toggle","replaceChildren","field","errors","log","clientFriendlyNameErrorMsg","processFormErrors","handleSuccessfulSubmission","jqXHR","alert","statusText","newClientFormSubmission","window","btn","currentTarget","unitToggleInput","revenueInput","contains","parentNode","event","getAttribute","toggleViewHandler","slideUp","removeClass","html","slideDown","job_id","showLoadingSpinner","spinnerEl","jobForm","client","job_type","granular_revenue","add_consumption_tax","personInCharge","method","createSuccessToast","hideLoadingSpinner","filters","querySelectorAll","initializeDateSelectors","f","setupTableEventHandlers","datatableEl","closest","depositDateModalShowHandler","beginSelection","checkbox","isChecked","handleSingleClick","selectOnDrag","preventHighlighting","jobCode","metaKey","ctrlKey","navigator","clipboard","writeText","get","jobCodeText","push","settings","unreceivedPayment","ongoing","outstandingVendorPayment","rangeCheckbox","click","is","val","change","initCSVExporter","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","O","result","chunkIds","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}